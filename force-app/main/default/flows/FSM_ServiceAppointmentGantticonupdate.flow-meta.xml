<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_Green_Circle_Link</name>
        <label>Assign Green Circle Link</label>
        <locationX>2690</locationX>
        <locationY>1166</locationY>
        <assignmentItems>
            <assignToReference>IconURL</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Green_Circle.FSM_Link__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_All_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Green_Star</name>
        <label>Assign Green Star</label>
        <locationX>50</locationX>
        <locationY>1166</locationY>
        <assignmentItems>
            <assignToReference>IconURL</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Green_Star.FSM_Link__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_All_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Green_Triangle</name>
        <label>Assign Green Triangle</label>
        <locationX>3218</locationX>
        <locationY>1166</locationY>
        <assignmentItems>
            <assignToReference>IconURL</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Green_Triangle.FSM_Link__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_All_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Icon_Link</name>
        <label>Assign Icon Link</label>
        <locationX>1106</locationX>
        <locationY>1166</locationY>
        <assignmentItems>
            <assignToReference>IconURL</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Red_Circle.FSM_Link__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_All_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Notice_Not_Required</name>
        <label>Assign Notice Not Required</label>
        <locationX>578</locationX>
        <locationY>1166</locationY>
        <assignmentItems>
            <assignToReference>IconURL</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_NoNoticeReq_Icon.FSM_Link__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_All_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Red_Triangle_Link</name>
        <label>Assign Red Triangle Link</label>
        <locationX>1634</locationX>
        <locationY>1166</locationY>
        <assignmentItems>
            <assignToReference>IconURL</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>GetRedTriangle.FSM_Link__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_All_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Yellow_Triangle_Link</name>
        <label>Assign Yellow Triangle Link</label>
        <locationX>2162</locationX>
        <locationY>1166</locationY>
        <assignmentItems>
            <assignToReference>IconURL</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Yellow_Triangle.FSM_Link__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_All_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignWOIds</name>
        <label>AssignWOIds</label>
        <locationX>2184</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>WorkOrderIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Assign_WO_Ids.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_WO_Ids</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Blank_Icon_Assignment</name>
        <label>Blank Icon Assignment</label>
        <locationX>3746</locationX>
        <locationY>950</locationY>
        <assignmentItems>
            <assignToReference>IconURL</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Update_All_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Error_Location</name>
        <label>Error Location</label>
        <locationX>4274</locationX>
        <locationY>1550</locationY>
        <assignmentItems>
            <assignToReference>ErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Error occurred while updating TMA Permit</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <decisions>
        <name>Check_Core_TMA_Job</name>
        <label>Check Core TMA Job</label>
        <locationX>2316</locationX>
        <locationY>458</locationY>
        <defaultConnector>
            <targetReference>Assign_WO_Ids</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Is_Core_TMA_Job</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Assign_WO_Ids.FSM_NoticeState__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Assign_WO_Ids.FSM_Suitability__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>E</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>AssignWOIds</targetReference>
            </connector>
            <label>Is Core TMA Job</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_TMA_status</name>
        <label>Check TMA status</label>
        <locationX>2096</locationX>
        <locationY>842</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Green_Star</name>
            <conditionLogic>(1 AND (2 OR  3)) OR (4 AND (2 OR 3))</conditionLogic>
            <conditions>
                <leftValueReference>Get_TMA.FSM_NoticeType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>05</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PRMT</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>NOTC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_NoticeType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>04</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Green_Star</targetReference>
            </connector>
            <label>Green Star</label>
        </rules>
        <rules>
            <name>Notice_Not_Required</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_TMA.FSM_NoticeType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>00</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_NoNoticeReq_Icon</targetReference>
            </connector>
            <label>Notice Not Required</label>
        </rules>
        <rules>
            <name>Red_Circle</name>
            <conditionLogic>2 AND (1 OR 3 OR 4 OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>FPI</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>NOTC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CRTD</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>API</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CANC</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Red_Circle</targetReference>
            </connector>
            <label>Red Circle</label>
        </rules>
        <rules>
            <name>Red_Triangle</name>
            <conditionLogic>7 OR ((1 OR 2 OR 3 OR 4 OR 5 )AND 6)</conditionLogic>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CRTD</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>RPA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PRF</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PREV</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CANC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PRMT</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>REV</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GetRedTriangle</targetReference>
            </connector>
            <label>Red Triangle</label>
        </rules>
        <rules>
            <name>Yellow_Triangle</name>
            <conditionLogic>(1 OR 2 OR 3 OR 4 ) AND 5</conditionLogic>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PADP</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PAA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>RP</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PVAR</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PRMT</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Yellow_Triangle</targetReference>
            </connector>
            <label>Yellow Triangle</label>
        </rules>
        <rules>
            <name>Green_Circle</name>
            <conditionLogic>(1 AND (2 OR 3))</conditionLogic>
            <conditions>
                <leftValueReference>Get_TMA.FSM_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>NOTC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PLND</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>WIP</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Green_Circle</targetReference>
            </connector>
            <label>Green Circle</label>
        </rules>
        <rules>
            <name>Green_Triangle</name>
            <conditionLogic>(1 AND (2 OR 3 OR 4))</conditionLogic>
            <conditions>
                <leftValueReference>Get_TMA.FSM_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PRMT</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PDP</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>WIP</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Green_Triangle</targetReference>
            </connector>
            <label>Green Triangle</label>
        </rules>
        <rules>
            <name>Blank_Icon</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PRRE</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>COMP</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>IREI</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PREI</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_TMA.FSM_TMAApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PHCO</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Blank_Icon_Assignment</targetReference>
            </connector>
            <label>Blank Icon</label>
        </rules>
    </decisions>
    <decisions>
        <name>Get_NoNoticeReq_Metadata</name>
        <label>Get NoNoticeReq Metadata</label>
        <locationX>710</locationX>
        <locationY>1058</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>NNR_Icon_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_NoNoticeReq_Icon.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Notice_Not_Required</targetReference>
            </connector>
            <label>NNR Icon Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Get_Red_Triangle_Metadata</name>
        <label>Get Red Triangle Metadata</label>
        <locationX>1766</locationX>
        <locationY>1058</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Red_Triangle_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>GetRedTriangle.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Red_Triangle_Link</targetReference>
            </connector>
            <label>Red Triangle Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Get_Yellow_Triangle_Metadata</name>
        <label>Get Yellow Triangle Metadata</label>
        <locationX>2294</locationX>
        <locationY>1058</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yellow_Triangle_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Yellow_Triangle.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Yellow_Triangle_Link</targetReference>
            </connector>
            <label>Yellow Triangle Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Green_Circle_metadata_found</name>
        <label>Green Circle metadata found</label>
        <locationX>2822</locationX>
        <locationY>1058</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Green_Circle_Record_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Green_Circle.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Green_Circle_Link</targetReference>
            </connector>
            <label>Green Circle Record Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Green_Star_Metadata_Found</name>
        <label>Green Star Metadata Found</label>
        <locationX>182</locationX>
        <locationY>1058</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Green_Star_Record_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Green_Star.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Green_Star</targetReference>
            </connector>
            <label>Green Star Record Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Green_Triangle_Metadata_Found</name>
        <label>Green Triangle Metadata Found</label>
        <locationX>3350</locationX>
        <locationY>1058</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Green_Triangle_Record_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Green_Triangle.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Green_Triangle</targetReference>
            </connector>
            <label>Green Triangle Record Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Metadata_Record_Check</name>
        <label>Metadata Record Check</label>
        <locationX>1238</locationX>
        <locationY>1058</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Record_found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Red_Circle.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Icon_Link</targetReference>
            </connector>
            <label>Record found</label>
        </rules>
    </decisions>
    <description>SFS-1464/SFS-2994/
SFS-5746 - Gantt Icons
Remove SA TMA reference.
Updated as part of SFS-6656
Updated as part of SFS-7944
Updated as part of SFS-7944V.1
Updated as part of SFS-8210
Updated as part of SFS-8232
Updated as part of SFS-8932</description>
    <environments>Default</environments>
    <interviewLabel>FSM Service Appointment Gantt icon update {!$Flow.CurrentDateTime}</interviewLabel>
    <label>FSM Service Appointment Gantt icon update</label>
    <loops>
        <name>Assign_WO_Ids</name>
        <label>Assign WO Ids</label>
        <locationX>2096</locationX>
        <locationY>350</locationY>
        <collectionReference>Get_Work_Orders</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_Core_TMA_Job</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_TMA_status</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Green_Circle</name>
        <label>Get Green Circle</label>
        <locationX>2822</locationX>
        <locationY>950</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Green_Circle_metadata_found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_TMAPlannedWork</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_SAIcons__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Green_Star</name>
        <label>Get Green Star</label>
        <locationX>182</locationX>
        <locationY>950</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Green_Star_Metadata_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_ImmediateEmergency</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_SAIcons__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Green_Triangle</name>
        <label>Get Green Triangle</label>
        <locationX>3350</locationX>
        <locationY>950</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Green_Triangle_Metadata_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_PermitDeemedApproved</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_SAIcons__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-8210</description>
        <name>Get_NoNoticeReq_Icon</name>
        <label>Get NoNoticeReq Icon</label>
        <locationX>710</locationX>
        <locationY>950</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_NoNoticeReq_Metadata</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_Notice_Not_Required</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_SAIcons__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Red_Circle</name>
        <label>Get Red Circle</label>
        <locationX>1238</locationX>
        <locationY>950</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Metadata_Record_Check</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_Created</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_SAIcons__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_TMA</name>
        <label>Get TMA</label>
        <locationX>2096</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Work_Orders</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>TMAID</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_TMAPermit__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Work_Orders</name>
        <label>Get Work Orders</label>
        <locationX>2096</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_WO_Ids</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>FSM_TMAPermit__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>TMAID</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>WorkOrder</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Yellow_Triangle</name>
        <label>Get Yellow Triangle</label>
        <locationX>2294</locationX>
        <locationY>950</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Yellow_Triangle_Metadata</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_TMAPAADeemedApproved</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_SAIcons__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GetRedTriangle</name>
        <label>Get Red Triangle</label>
        <locationX>1766</locationX>
        <locationY>950</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Red_Triangle_Metadata</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_PermitCreated</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_SAIcons__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_All_SA</name>
        <label>Update All SA</label>
        <locationX>2096</locationX>
        <locationY>1442</locationY>
        <faultConnector>
            <targetReference>Error_Location</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>FSSK__FSK_Work_Order__c</field>
            <operator>In</operator>
            <value>
                <elementReference>WorkOrderIds</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSL__GanttIcon__c</field>
            <value>
                <elementReference>IconURL</elementReference>
            </value>
        </inputAssignments>
        <object>ServiceAppointment</object>
    </recordUpdates>
    <start>
        <locationX>1970</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_TMA</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <description>ErrorMessage for flow</description>
        <name>ErrorMessage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>IconURL</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>SFS-1464</description>
        <name>TMAID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>SFS-1464</description>
        <name>TMAStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>SFS-1464, this will hold all work order ids</description>
        <name>WorkOrderIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
