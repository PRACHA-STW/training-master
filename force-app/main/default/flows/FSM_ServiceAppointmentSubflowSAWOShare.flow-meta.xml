<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>58.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Error_Location</name>
        <label>Error Location</label>
        <locationX>1194</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>ErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Error occurred while creating Service Appointment Share Records in &apos;FSM Service Appointment - Subflow - SA &amp; WO Share&apos;</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Error_Location1</name>
        <label>Error Location</label>
        <locationX>314</locationX>
        <locationY>1082</locationY>
        <assignmentItems>
            <assignToReference>ErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Error occurred while deleting Service Appointment Share Records in &apos;FSM Service Appointment - Subflow - SA &amp; WO Share&apos;</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Error_Location3</name>
        <label>Error Location</label>
        <locationX>314</locationX>
        <locationY>1622</locationY>
        <assignmentItems>
            <assignToReference>ErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Error occurred while deleting WorkOrder Share Records in &apos;FSM Service Appointment - Subflow - SA &amp; WO Share&apos;</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Error_Location4</name>
        <label>Error Location</label>
        <locationX>1194</locationX>
        <locationY>1430</locationY>
        <assignmentItems>
            <assignToReference>ErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Error occurred while creating Workorder Share Records in &apos;FSM Service Appointment - Subflow - SA &amp; WO Share&apos;</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Error_Location5</name>
        <label>Error Location</label>
        <locationX>776</locationX>
        <locationY>2612</locationY>
        <assignmentItems>
            <assignToReference>ErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Error occurred while creating Service Appointment Share Records for User in &apos;FSM Service Appointment - Subflow - SA &amp; WO Share&apos;</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Error_Location6</name>
        <label>Error Location</label>
        <locationX>512</locationX>
        <locationY>2720</locationY>
        <assignmentItems>
            <assignToReference>ErrorMessage</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Error occurred while creating Work Order Share Records for User in &apos;FSM Service Appointment - Subflow - SA &amp; WO Share&apos;</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Final_Group_Name_for_Deletion</name>
        <label>Final Group Name for Deletion</label>
        <locationX>1018</locationX>
        <locationY>1946</locationY>
        <assignmentItems>
            <assignToReference>FinalGroupNameForDeletion</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>GrorupNamePrior</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Get_public_Groups</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Group_Name_Final_update_status</name>
        <label>Group Name Final update status</label>
        <locationX>314</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>FinalGroupNameForDeletion</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>GroupName</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_public_Groups</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>SFS-1255</description>
        <name>Check_If_Status_of_SA_is_closed</name>
        <label>Check If Status of SA is closed</label>
        <locationX>644</locationX>
        <locationY>2396</locationY>
        <defaultConnectorLabel>not relevant</defaultConnectorLabel>
        <rules>
            <name>Status_moved_from_new_to_closed</name>
            <conditionLogic>1 AND 2 AND (3 OR 4 OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>PreviousSAStatus</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>PreviousSAStatus</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Unattended</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rejected</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Share_SA_with_user</targetReference>
            </connector>
            <label>Status moved from new to closed</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>Copy_1_of_IS_Public_group_available</name>
        <label>IS Public group available</label>
        <locationX>1150</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>Is_ST_Updated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Public Group</defaultConnectorLabel>
        <rules>
            <name>Copy_1_of_Public_Group_available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Copy_1_of_Get_public_Groups</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Get_record_share_SA</targetReference>
            </connector>
            <label>Public Group available</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>Copy_1_of_IS_record_Share_available_SA</name>
        <label>IS record Share available SA</label>
        <locationX>842</locationX>
        <locationY>674</locationY>
        <defaultConnector>
            <targetReference>Service_appointment_Share</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Copy_1_of_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Copy_1_of_Get_record_share_SA</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_IS_record_Share_available_WO</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>Copy_1_of_IS_record_Share_available_WO</name>
        <label>IS record Share available WO</label>
        <locationX>842</locationX>
        <locationY>1214</locationY>
        <defaultConnector>
            <targetReference>Create_Work_Order_Share</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Copy_2_of_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Copy_1_of_Get_record_share_WO</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_ST_Updated</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>IS_Public_group_available</name>
        <label>IS Public group available</label>
        <locationX>314</locationX>
        <locationY>458</locationY>
        <defaultConnector>
            <targetReference>IS_record_Share_available_SA</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Public Group</defaultConnectorLabel>
        <rules>
            <name>Public_Group_available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_public_Groups</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_record_share_SA</targetReference>
            </connector>
            <label>Public Group available</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>IS_record_Share_available_SA</name>
        <label>IS record Share available SA</label>
        <locationX>314</locationX>
        <locationY>866</locationY>
        <defaultConnector>
            <targetReference>IS_record_Share_available_WO</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_record_share_SA</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_record_share_SA</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>IS_record_Share_available_WO</name>
        <label>IS record Share available WO</label>
        <locationX>314</locationX>
        <locationY>1406</locationY>
        <defaultConnector>
            <targetReference>Not_A_New_SA</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_record_share_WO</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_WO_Record_Share</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-2136</description>
        <name>Is_ST_Updated</name>
        <label>Is ST Updated</label>
        <locationX>1150</locationX>
        <locationY>1838</locationY>
        <defaultConnector>
            <targetReference>Not_A_New_SA</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No ST update</defaultConnectorLabel>
        <rules>
            <name>St_updated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.ServiceTerritoryId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>previousTerritoryId</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Final_Group_Name_for_Deletion</targetReference>
            </connector>
            <label>St updated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Not_A_New_SA</name>
        <label>Not A New SA</label>
        <locationX>974</locationX>
        <locationY>2288</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Not_A_New_Service_Appointment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>newSARecord</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_If_Status_of_SA_is_closed</targetReference>
            </connector>
            <label>Not A New Service Appointment</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155
SFS-4077 &gt; Updated to include logic 5 and 6 in the &apos;SA New Updated&apos; outcome
Updated as part of SFS-8644-have removed the Get Service Territory and used a formula</description>
        <name>SA_Record_Status_Check</name>
        <label>SA Record Status Check</label>
        <locationX>974</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>Not_A_New_SA</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Status_not_New</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>PreviousSAStatus</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.IsBundle</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.IsBundleMember</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.ServiceTerritory.FSM_Workmate_Territory__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Group_Name_Final_update_status</targetReference>
            </connector>
            <label>Status not New</label>
        </rules>
        <rules>
            <name>SA_New_Updated</name>
            <conditionLogic>1 AND( 2 OR 3 OR 4) AND 5 AND 6</conditionLogic>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>newSARecord</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.ServiceTerritoryId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>previousTerritoryId</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>PreviousSAStatus</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ServiceAppointmentRecord.ServiceTerritoryId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>IsSASharingforSelfScheduling</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Get_public_Groups</targetReference>
            </connector>
            <label>SA New Updated</label>
        </rules>
    </decisions>
    <description>Created as a part of SFS-2233
Updated as part of SFS-4077
Updated as part of SFS-8644
Updated as part of SFS-8935
Updated as part of SFL-785</description>
    <environments>Default</environments>
    <formulas>
        <description>SFS-2136</description>
        <name>GrorupNamePrior</name>
        <dataType>String</dataType>
        <expression>LEFT(&apos;FSM_FW_&apos;+{!previousTerritoryName},40)</expression>
    </formulas>
    <formulas>
        <description>Created as a part of SFS-155</description>
        <name>GroupName</name>
        <dataType>String</dataType>
        <expression>TRIM(LEFT(&apos;FSM_FW_&apos;+{!ServiceAppointmentRecord.ServiceTerritory.Name},40))</expression>
    </formulas>
    <formulas>
        <description>Created as part of SFS-8466</description>
        <name>IsSASharingforSelfScheduling</name>
        <dataType>Boolean</dataType>
        <expression>{!ServiceAppointmentRecord.ServiceTerritory.FSM_SASharingforSelfScheduling__c}</expression>
    </formulas>
    <interviewLabel>FSM Service Appointment - Subflow - SA, WO Share {!$Flow.CurrentDateTime}</interviewLabel>
    <label>FSM Service Appointment - Subflow - SA &amp; WO Share</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <description>SFS-155</description>
        <name>Create_Work_Order_Share</name>
        <label>Create Work Order Share</label>
        <locationX>930</locationX>
        <locationY>1322</locationY>
        <connector>
            <targetReference>Is_ST_Updated</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Location4</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>AccessLevel</field>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>ServiceAppointmentRecord.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RowCause</field>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UserOrGroupId</field>
            <value>
                <elementReference>Copy_1_of_Get_public_Groups.Id</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrderShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFS-155</description>
        <name>Service_appointment_Share</name>
        <label>Service appointment Share</label>
        <locationX>930</locationX>
        <locationY>782</locationY>
        <connector>
            <targetReference>Copy_1_of_IS_record_Share_available_WO</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Location</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>AccessLevel</field>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>ServiceAppointmentRecord.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RowCause</field>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UserOrGroupId</field>
            <value>
                <elementReference>Copy_1_of_Get_public_Groups.Id</elementReference>
            </value>
        </inputAssignments>
        <object>ServiceAppointmentShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFS-1255</description>
        <name>Share_SA_with_user</name>
        <label>Share SA with user</label>
        <locationX>248</locationX>
        <locationY>2504</locationY>
        <connector>
            <targetReference>Share_WO_with_user</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Location5</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>AccessLevel</field>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>ServiceAppointmentRecord.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RowCause</field>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UserOrGroupId</field>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
        <object>ServiceAppointmentShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFS-1255</description>
        <name>Share_WO_with_user</name>
        <label>Share WO with user</label>
        <locationX>248</locationX>
        <locationY>2612</locationY>
        <faultConnector>
            <targetReference>Error_Location6</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>AccessLevel</field>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>ServiceAppointmentRecord.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RowCause</field>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UserOrGroupId</field>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrderShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordDeletes>
        <description>SFS-155</description>
        <name>Delete_record_share_SA</name>
        <label>Delete record share SA</label>
        <locationX>50</locationX>
        <locationY>974</locationY>
        <connector>
            <targetReference>IS_record_Share_available_WO</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Location1</targetReference>
        </faultConnector>
        <inputReference>Get_record_share_SA</inputReference>
    </recordDeletes>
    <recordDeletes>
        <description>FS-155</description>
        <name>Delete_WO_Record_Share</name>
        <label>Delete WO Record Share</label>
        <locationX>50</locationX>
        <locationY>1514</locationY>
        <connector>
            <targetReference>Not_A_New_SA</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Location3</targetReference>
        </faultConnector>
        <inputReference>Get_record_share_WO</inputReference>
    </recordDeletes>
    <recordLookups>
        <description>SFS-155</description>
        <name>Copy_1_of_Get_public_Groups</name>
        <label>Get public Groups</label>
        <locationX>1150</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Copy_1_of_IS_Public_group_available</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GroupName</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Copy_1_of_Get_record_share_SA</name>
        <label>Get record share SA</label>
        <locationX>842</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Copy_1_of_Get_record_share_WO</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ServiceAppointmentRecord.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>UserOrGroupId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Copy_1_of_Get_public_Groups.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ServiceAppointmentShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Copy_1_of_Get_record_share_WO</name>
        <label>Get record share WO</label>
        <locationX>842</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Copy_1_of_IS_record_Share_available_SA</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ServiceAppointmentRecord.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>UserOrGroupId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Copy_1_of_Get_public_Groups.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>WorkOrderShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Get_public_Groups</name>
        <label>Get public Groups</label>
        <locationX>314</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>IS_Public_group_available</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>FinalGroupNameForDeletion</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Get_record_share_SA</name>
        <label>Get record share SA</label>
        <locationX>182</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_record_share_WO</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ServiceAppointmentRecord.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>UserOrGroupId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_public_Groups.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ServiceAppointmentShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Get_record_share_WO</name>
        <label>Get record share WO</label>
        <locationX>182</locationX>
        <locationY>674</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>IS_record_Share_available_SA</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ServiceAppointmentRecord.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>UserOrGroupId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_public_Groups.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>WorkOrderShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <start>
        <locationX>848</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>SA_Record_Status_Check</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>ErrorMessage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>FinalGroupNameForDeletion</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>newSARecord</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>PreviousSAStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>previousTerritoryId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>previousTerritoryName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ServiceAppointmentRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
</Flow>
