<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <description>SFS-155</description>
        <name>Copy_1_of_Copy_1_of_Dispatched_Notification</name>
        <label>Copy 1 of Copy 1 of Dispatched Notification</label>
        <locationX>1452</locationX>
        <locationY>15834</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <connector>
            <targetReference>get_last_modified_user_record</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>Copy_1_of_Get_Custom_Notification_ID.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>UserIDs</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <stringValue>You have been dispatched a priority job</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>customNotificationAction</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>SFS-155</description>
        <name>Copy_1_of_Dispatched_Notification</name>
        <label>Copy 1 of Dispatched Notification</label>
        <locationX>1188</locationX>
        <locationY>15834</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <connector>
            <targetReference>get_last_modified_user_record</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>Copy_1_of_Get_Custom_Notification_ID.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>UserIDs</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <stringValue>Urgent job dispatched, please check your schedule</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>customNotificationAction</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Copy_2_of_Dispatched_Notification</name>
        <label>Copy 2 of Dispatched Notification</label>
        <locationX>1980</locationX>
        <locationY>15834</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <connector>
            <targetReference>get_last_modified_user_record</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>Copy_1_of_Get_Custom_Notification_ID.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>UserIDs</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <stringValue>You have a new job to complete</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>customNotificationAction</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Dispatched_Notification</name>
        <label>Dispatched Notification</label>
        <locationX>1716</locationX>
        <locationY>15834</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <connector>
            <targetReference>get_last_modified_user_record</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>Copy_1_of_Get_Custom_Notification_ID.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>UserIDs</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <elementReference>NotificationTitleDispatch</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <elementReference>NotificationBodyDispatched</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>customNotificationAction</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>SFS-155</description>
        <name>Not_Scheduled_Notification</name>
        <label>Not Scheduled Notification</label>
        <locationX>5110</locationX>
        <locationY>1032</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>Get_Custom_Notification_ID.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>UserIDs</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <elementReference>NotificationTitleNotAssigned</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <elementReference>NotificationBodyNotAssigned</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>customNotificationAction</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Send_Email_Alert</name>
        <label>Send Email Alert</label>
        <locationX>2552</locationX>
        <locationY>11604</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <connector>
            <targetReference>TMA_Check_For_Earliest_Scheduling_Date_Earliest_Schedulable_Date_Null</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>senderType</name>
            <value>
                <stringValue>OrgWideEmailAddress</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderAddress</name>
            <value>
                <elementReference>Get_Default_Email_Infra.Address</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>useLineBreaks</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>relatedRecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientId</name>
            <value>
                <elementReference>Fetch_Service_Recovery_Contact.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailTemplateId</name>
            <value>
                <elementReference>Fetch_Email_Template.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <apiVersion>57.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <description>SFL-1263</description>
        <name>add_leader_external_ID_to_WO</name>
        <label>add leader external ID to WO</label>
        <locationX>2123</locationX>
        <locationY>1500</locationY>
        <assignmentItems>
            <assignToReference>ServiceResourceExtID</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>serviceresoruceEXTLD_Id_forCrewLeader</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_relevant_WO_Assign_Res</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-1263</description>
        <name>add_leader_to_WO</name>
        <label>add leader to WO</label>
        <locationX>2343</locationX>
        <locationY>1116</locationY>
        <assignmentItems>
            <assignToReference>serviceresoruceEXTLD_Id_forCrewLeader</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loop_through_crew_members.ServiceResource.FSM_ExternalId__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>is_leader</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>loop_through_crew_members</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-1263</description>
        <name>add_non_leader_externalID_to_WO</name>
        <label>add non leader externalID to WO</label>
        <locationX>2387</locationX>
        <locationY>1500</locationY>
        <assignmentItems>
            <assignToReference>ServiceResourceExtID</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>serviceResourceEXTLDId_forCrewNONleader</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_relevant_WO_Assign_Res</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-1263</description>
        <name>add_non_leader_to_WO_for_crew</name>
        <label>add non leader to WO for crew</label>
        <locationX>2607</locationX>
        <locationY>1116</locationY>
        <assignmentItems>
            <assignToReference>serviceResourceEXTLDId_forCrewNONleader</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>loop_through_crew_members.ServiceResource.FSM_ExternalId__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>loop_through_crew_members</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Add_record_in_TimesheetList</name>
        <label>Add record in TimesheetList</label>
        <locationX>2244</locationX>
        <locationY>7692</locationY>
        <assignmentItems>
            <assignToReference>TimesheetList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>NewTimeSheet</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_AssignedResourceID</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Add_SingleTSE_to_TSEList</name>
        <label>Add SingleTSERecord to AllTSEtoBeCreated</label>
        <locationX>2332</locationX>
        <locationY>9624</locationY>
        <assignmentItems>
            <assignToReference>AllTSEtoBeCreated</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>SingleTSERecord</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_AllTimeSheetEntry</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Assign_created_timesheet_to_collection</name>
        <label>Assign created timesheet to collection</label>
        <locationX>1804</locationX>
        <locationY>8976</locationY>
        <assignmentItems>
            <assignToReference>AllTimesheetForTimeEntryCreation</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>TimesheetList</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_TimeSheetList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFI-3007</description>
        <name>Assign_SR_Ext_Id</name>
        <label>Assign SR Ext Id</label>
        <locationX>2651</locationX>
        <locationY>792</locationY>
        <assignmentItems>
            <assignToReference>ServiceResourceExtID</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Assigned_Service_Resource__r.FSM_ExternalId__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_relevant_WO_Assign_Res</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFI-1557</description>
        <name>assign_time_sheet_id</name>
        <label>assign time sheet id</label>
        <locationX>2266</locationX>
        <locationY>4524</locationY>
        <assignmentItems>
            <assignToReference>TSERecord.TimeSheetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_time_sheet.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>If_status_is_completed_or_can_not_complete_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Assign_Timesheet_Record</name>
        <label>Assign Timesheet Record</label>
        <locationX>2244</locationX>
        <locationY>7584</locationY>
        <assignmentItems>
            <assignToReference>NewTimeSheet.ServiceResourceId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AssignedResourceID</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewTimeSheet.EndDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewTimeSheet.StartDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewTimeSheet.Status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_record_in_TimesheetList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Assign_TSE_record</name>
        <label>Assign TSE record</label>
        <locationX>2332</locationX>
        <locationY>9516</locationY>
        <assignmentItems>
            <assignToReference>SingleTSERecord.TimeSheetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_TimeSheetList.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.StartTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.StartTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.EndTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.EndTime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.Type</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.DurationInMinutes</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.DurationInMinutes</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.Description</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.Description</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.FSM_NonProductiveReason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.FSM_NonProductiveReason__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.WorkOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.WorkOrderId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.FSM_ServiceAppointmentId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.FSM_ServiceAppointmentId__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.FSM_FinalConfirmation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.FSM_FinalConfirmation__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.FSM_TimeDuration__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.FSM_TimeDuration__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>SingleTSERecord.FSM_AdjustedTimeDuration__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllTimeSheetEntry.FSM_AdjustedTimeDuration__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_SingleTSE_to_TSEList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFS-155</description>
        <name>Assign_User_ID</name>
        <label>Assign User ID</label>
        <locationX>5110</locationX>
        <locationY>708</locationY>
        <assignmentItems>
            <assignToReference>UserIDs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_resource_pref.ServiceResource.RelatedRecordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Delete_resource_pref</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Assign_YesTimesheetFound</name>
        <label>Assign YesTimesheetFound</label>
        <locationX>2508</locationX>
        <locationY>7908</locationY>
        <assignmentItems>
            <assignToReference>YesTimesheetFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>AllTimesheetForTimeEntryCreation</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_AllTimesheet</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_AllTimesheet</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Copy_1_of_Add_record_in_TimesheetList</name>
        <label>Copy 1 of Add record in TimesheetList</label>
        <locationX>2288</locationX>
        <locationY>8400</locationY>
        <assignmentItems>
            <assignToReference>TimesheetList</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>NewTimeSheet</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_AllAssignedResourceID</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFI-1557</description>
        <name>Copy_1_of_assign_time_sheet_id</name>
        <label>Copy 1 of assign time sheet id</label>
        <locationX>1738</locationX>
        <locationY>4632</locationY>
        <assignmentItems>
            <assignToReference>TSERecord.TimeSheetId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Create_a_new_timesheet</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>If_status_is_completed_or_can_not_complete_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Copy_1_of_Assign_Timesheet_Record</name>
        <label>Copy 1 of Assign Timesheet Record</label>
        <locationX>2288</locationX>
        <locationY>8292</locationY>
        <assignmentItems>
            <assignToReference>NewTimeSheet.ServiceResourceId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_AllAssignedResourceID</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewTimeSheet.EndDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewTimeSheet.StartDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NewTimeSheet.Status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>New</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Copy_1_of_Add_record_in_TimesheetList</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFS-155</description>
        <name>Copy_1_of_Assign_User_ID</name>
        <label>Assign User ID</label>
        <locationX>1716</locationX>
        <locationY>15618</locationY>
        <assignmentItems>
            <assignToReference>UserIDs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_Assigned_Resource.ServiceResource.RelatedRecordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Priority_work_dispatched</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Count_SA</name>
        <label>Count SA</label>
        <locationX>2728</locationX>
        <locationY>3192</locationY>
        <assignmentItems>
            <assignToReference>countRejectCannotComplete</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>SARecords</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Count_Rejected_Cannot_Complete_SA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFS-2979</description>
        <name>Jeopardy_Reason_Late_to_Complete</name>
        <label>Jeopardy Reason Late to Complete</label>
        <locationX>1012</locationX>
        <locationY>17118</locationY>
        <assignmentItems>
            <assignToReference>JeopardyNotificationBody</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Label.FSM_SAJeopardyReasonLateToComplete</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Send_Notification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFS-2979</description>
        <name>Jeopardy_Reason_Late_to_Enroute</name>
        <label>Jeopardy Reason Late to Enroute</label>
        <locationX>2068</locationX>
        <locationY>17118</locationY>
        <assignmentItems>
            <assignToReference>JeopardyNotificationBody</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Label.FSM_SAJeopardyReasonLateToEnroute</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Send_Notification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFS-2979</description>
        <name>Jeopardy_Reason_Late_to_Enroute_Metering</name>
        <label>Jeopardy Reason Late to Enroute (Metering)</label>
        <locationX>2332</locationX>
        <locationY>17118</locationY>
        <assignmentItems>
            <assignToReference>JeopardyNotificationBody</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Label.FSM_SAJeopardyReasonLateToEnroute</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Send_Notification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFS-2979</description>
        <name>Jeopardy_Reason_Late_to_Report_Accepted</name>
        <label>Jeopardy Reason Late to Report Accepted</label>
        <locationX>1804</locationX>
        <locationY>17118</locationY>
        <assignmentItems>
            <assignToReference>JeopardyNotificationBody</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Label.FSM_SAJeopardyReasonLateToReportAccepted</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Send_Notification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFS-2979</description>
        <name>Jeopardy_Reason_Late_to_Report_Onsite</name>
        <label>Jeopardy Reason Late to Report Onsite</label>
        <locationX>1276</locationX>
        <locationY>17118</locationY>
        <assignmentItems>
            <assignToReference>JeopardyNotificationBody</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Label.FSM_SAJeopardyReasonLateToReportOnsite</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Send_Notification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFS-2979</description>
        <name>Jeopardy_Reason_Late_to_Report_Onsite_Metering</name>
        <label>Jeopardy Reason Late to Report Onsite Metering &amp; Waste Infra</label>
        <locationX>1540</locationX>
        <locationY>17118</locationY>
        <assignmentItems>
            <assignToReference>JeopardyNotificationBody</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>You have not on-sited your job, if you have arrived please change status to on-site</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Send_Notification</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Reset_YesTimesheetFound</name>
        <label>Reset YesTimesheetFound</label>
        <locationX>2420</locationX>
        <locationY>7584</locationY>
        <assignmentItems>
            <assignToReference>YesTimesheetFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_AllTimesheet</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFL-887</description>
        <name>Service_resource_List</name>
        <label>Service resource List</label>
        <locationX>2156</locationX>
        <locationY>7068</locationY>
        <assignmentItems>
            <assignToReference>AllAssignedResourceID</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Assigned_resource.ServiceResourceId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Assigned_resource</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Added as part of SFS-7965</description>
        <name>Status_New</name>
        <label>Status New</label>
        <locationX>1590</locationX>
        <locationY>13728</locationY>
        <assignmentItems>
            <assignToReference>StatusNull</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Get_TMA_Notice_Date</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>test_onsite</name>
        <label>test onsite</label>
        <locationX>2382</locationX>
        <locationY>13728</locationY>
        <assignmentItems>
            <assignToReference>onsitetest</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Status</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Update_WorkOrder_Status</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFI-1557</description>
        <name>TSENonProductiveTime</name>
        <label>TSENonProductiveTime</label>
        <locationX>1870</locationX>
        <locationY>3900</locationY>
        <assignmentItems>
            <assignToReference>TSERecord.StartTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSM_NonProductiveStartTime__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.EndTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSM_NonProductiveEndTime__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Non Productive</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.FSM_ServiceAppointmentId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.WorkOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.FSM_NonProductiveReason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSM_NonProductiveReason__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_service_resource_record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFI-1557</description>
        <name>TSEProductiveTime</name>
        <label>TSEProductiveTime</label>
        <locationX>2134</locationX>
        <locationY>3900</locationY>
        <assignmentItems>
            <assignToReference>TSERecord.StartTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSM_ProductiveStartTime__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.EndTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSM_ProductiveEndTime__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Productive</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.FSM_ServiceAppointmentId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.WorkOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_service_resource_record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFI-1557</description>
        <name>TSETravelTime</name>
        <label>TSETravelTime</label>
        <locationX>2398</locationX>
        <locationY>3900</locationY>
        <assignmentItems>
            <assignToReference>TSERecord.StartTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSM_EnrouteStartTime__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.EndTime</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSM_EnrouteEndTime__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Travel</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.FSM_ServiceAppointmentId__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TSERecord.WorkOrderId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_service_resource_record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFI-2751</description>
        <name>Update_Final_timesheet_entry</name>
        <label>Update Final timesheet entry</label>
        <locationX>1870</locationX>
        <locationY>5064</locationY>
        <assignmentItems>
            <assignToReference>TSERecord.FSM_FinalConfirmation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>FinalTiimesheetUpdated</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>TimeSheetEntryCreationNPT</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>SFI-1557</description>
        <name>Update_Latest_time_sheet_entry_reocord</name>
        <label>Update Latest time sheet entry reocord</label>
        <locationX>2200</locationX>
        <locationY>6096</locationY>
        <assignmentItems>
            <assignToReference>Get_Latest_time_sheet_Entry_Records.FSM_FinalConfirmation__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_time_sheet_entry</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>SFL-887</description>
        <name>check_AllAssignedResource</name>
        <label>check AllAssignedResource</label>
        <locationX>2420</locationX>
        <locationY>6852</locationY>
        <defaultConnector>
            <targetReference>SA_Status_Cannot_Complete_Completed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Record_found_in_AllAssignedResource</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>AllAssignedResource</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_AllTimeSheetEntry</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_Assigned_resource</targetReference>
            </connector>
            <label>Record found in AllAssignedResource</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Case_Managing_Required</name>
        <label>Check Case Managing Required</label>
        <locationX>2684</locationX>
        <locationY>10956</locationY>
        <defaultConnector>
            <targetReference>TMA_Check_For_Earliest_Scheduling_Date_Earliest_Schedulable_Date_Null</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>1 AND 2 AND (3 OR 4) AND (5 OR 6 OR 7 OR 8)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSM_CaseManagingRequired__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cannot Complete</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Water Infra</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Developer Services</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Metering</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Waste Infra</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_case</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFL-887</description>
        <name>Check_completion_status</name>
        <label>Check completion status</label>
        <locationX>2684</locationX>
        <locationY>6528</locationY>
        <defaultConnector>
            <targetReference>SA_Status_Cannot_Complete_Completed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Status_Updated_to_Complete_can_not_complete</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cannot Complete</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_AllTimeSheetEntry</targetReference>
            </connector>
            <label>Status Updated to Complete/can not complete</label>
        </rules>
    </decisions>
    <decisions>
        <description>Updated As part of SFI-2254</description>
        <name>Check_for_Platform_Event_fire_chnages</name>
        <label>Check for Platform Event fire chnages</label>
        <locationX>2332</locationX>
        <locationY>16302</locationY>
        <defaultConnector>
            <targetReference>SA_In_Jeopardy</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Platform Event trigger</defaultConnectorLabel>
        <rules>
            <name>Fire_Platform_Event</name>
            <conditionLogic>1 AND 5 AND 6 AND  (2 OR 3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.Status</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cannot Complete</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rejected</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsBundle</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>get_last_modified_user_record.FSM_ExternalId__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Custom_Metadata_record_for_interface_toggle</targetReference>
            </connector>
            <label>Fire Platform Event</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-730</description>
        <name>Check_For_Record_s_WO_s_ParentWOId</name>
        <label>Check For Record&apos;s WO&apos;s ParentWOId</label>
        <locationX>2910</locationX>
        <locationY>13536</locationY>
        <defaultConnector>
            <targetReference>Check_SA_Sharing_for_Self_Scheduling_on_ST</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Present</defaultConnectorLabel>
        <rules>
            <name>Not_Present_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.ParentWorkOrderId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Record_s_WO_s_ParentWOId</targetReference>
            </connector>
            <label>Not Present</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155
SFS-5170 : Added FSM_SASharingforSelfScheduling__c check</description>
        <name>Check_for_Record_sharing_conditions</name>
        <label>Check for Record sharing conditions</label>
        <locationX>4648</locationX>
        <locationY>276</locationY>
        <defaultConnectorLabel>Don&apos;t Share</defaultConnectorLabel>
        <rules>
            <name>Share_Record</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ServiceTerritoryId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ServiceTerritory.FSM_SASharingforSelfScheduling__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_public_Group</targetReference>
            </connector>
            <label>Share Record</label>
        </rules>
    </decisions>
    <decisions>
        <description>sfi-266</description>
        <name>check_if_any_interface_toggle_is_On</name>
        <label>check if any interface toggle  is On ?</label>
        <locationX>2178</locationX>
        <locationY>16518</locationY>
        <defaultConnector>
            <targetReference>SA_In_Jeopardy</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Interface_toggle_is_On</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Custom_Metadata_record_for_interface_toggle</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Platform_Event_Logs_for_SA_update</targetReference>
            </connector>
            <label>Interface toggle is On</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFI-2897</description>
        <name>Check_if_Assigned_res_updated</name>
        <label>Check if Assigned res updated</label>
        <locationX>2684</locationX>
        <locationY>576</locationY>
        <defaultConnector>
            <targetReference>Is_Bundle_Check</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Updated</defaultConnectorLabel>
        <rules>
            <name>Yes_Assigned_res_Updated</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Assigned_Service_Resource__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.FSSK__FSK_Assigned_Service_Resource__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_resource_Crew</targetReference>
            </connector>
            <label>Yes Assigned res Updated</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>Check_if_resource_pref_available</name>
        <label>Check if resource pref available</label>
        <locationX>5242</locationX>
        <locationY>600</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Resource_pref_available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_resource_pref</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Custom_Notification_ID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_User_ID</targetReference>
            </connector>
            <label>Resource pref available</label>
        </rules>
    </decisions>
    <decisions>
        <description>Updated as part of SFS-7814
Check status is schedule and jeopardy added as part of SFS-8393</description>
        <name>Check_if_SA_changed_to_Cancelled_or_back_to_New</name>
        <label>Check if SA changed to Cancelled or back to New</label>
        <locationX>2684</locationX>
        <locationY>17586</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Check_SA_stautses</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cancelled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_RecordsTest</targetReference>
            </connector>
            <label>Check SA stauts</label>
        </rules>
        <rules>
            <name>Check_status_is_schedule_and_jeopardy</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Scheduled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsBundle</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSL__Pinned__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_absence_records_for_SA</targetReference>
            </connector>
            <label>Check status is schedule and jeopardy</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_if_sch_date_or_permit_is_changed</name>
        <label>check if sch date or permit is changed</label>
        <locationX>50</locationX>
        <locationY>13836</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Get_TMA_Notice_Date</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>not changed</defaultConnectorLabel>
        <rules>
            <name>Is_sch_date_or_tma_permit_changed</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SchedStartTime</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Get_TMA_Notice_Date</targetReference>
            </connector>
            <label>Is sch date or tma permit changed?</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFI-2897</description>
        <name>Check_if_Scheduled_Start_or_End_updated</name>
        <label>Check if Scheduled Start or End updated</label>
        <locationX>2684</locationX>
        <locationY>276</locationY>
        <defaultConnector>
            <targetReference>Check_if_Assigned_res_updated</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Updated</defaultConnectorLabel>
        <rules>
            <name>Yes_Updated</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SchedStartTime</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.SchedStartTime</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SchedEndTime</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.SchedEndTime</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_relevant_WO</targetReference>
            </connector>
            <label>Yes Updated</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFI-1783</description>
        <name>Check_if_Temporary_record</name>
        <label>Check if Temporary record</label>
        <locationX>9466</locationX>
        <locationY>276</locationY>
        <defaultConnectorLabel>Not temporary</defaultConnectorLabel>
        <rules>
            <name>Temporary_record</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSM_IsTemporaryRecord__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_SA_Sharing</targetReference>
            </connector>
            <label>Temporary record</label>
        </rules>
    </decisions>
    <decisions>
        <description>Added as part of SFS-8940</description>
        <name>Check_if_Timesheet_Exists</name>
        <label>Check if Timesheet Exists</label>
        <locationX>2002</locationX>
        <locationY>4416</locationY>
        <defaultConnector>
            <targetReference>assign_time_sheet_id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Record_Not_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_time_sheet.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_a_new_timesheet</targetReference>
            </connector>
            <label>Record Not Found</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-2979 SFS-6638 Updated for waste as well</description>
        <name>Check_Jeopardy_Reason</name>
        <label>Check Jeopardy Reason</label>
        <locationX>1804</locationX>
        <locationY>17010</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Late_to_Complete</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardyReason__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Late to Complete</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Developer Services</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Waste Infra</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Jeopardy_Reason_Late_to_Complete</targetReference>
            </connector>
            <label>Late to Complete</label>
        </rules>
        <rules>
            <name>Late_to_report_On_Site</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Developer Services</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardyReason__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Late to report On Site</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Jeopardy_Reason_Late_to_Report_Onsite</targetReference>
            </connector>
            <label>Late to report On Site</label>
        </rules>
        <rules>
            <name>Late_to_Report_Onsite_Metering</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardyReason__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Late to report On Site</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Metering</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Waste Infra</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Jeopardy_Reason_Late_to_Report_Onsite_Metering</targetReference>
            </connector>
            <label>Late to Report Onsite (Metering) AND Waste</label>
        </rules>
        <rules>
            <name>Late_to_Report_Accepted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardyReason__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Late to report Accepted</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Jeopardy_Reason_Late_to_Report_Accepted</targetReference>
            </connector>
            <label>Late to Report Accepted</label>
        </rules>
        <rules>
            <name>Late_To_Enroute</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardyReason__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Late to Enroute</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Developer Services</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Jeopardy_Reason_Late_to_Enroute</targetReference>
            </connector>
            <label>Late To Enroute</label>
        </rules>
        <rules>
            <name>Late_To_Enroute_Metering</name>
            <conditionLogic>1 AND (2 OR (3 AND 4)) AND 5 AND 6 AND 7 AND 8 AND 9</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardyReason__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Late to Enroute</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Metering</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_Virtual__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Metering</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Waste Infra</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Water Infra</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Waste Non Infra</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Water Non Infra</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Bio Resource</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Jeopardy_Reason_Late_to_Enroute_Metering</targetReference>
            </connector>
            <doesRequireRecordChangedToMeetCriteria>true</doesRequireRecordChangedToMeetCriteria>
            <label>Late To Enroute Virtual (Metering) and else</label>
        </rules>
    </decisions>
    <decisions>
        <description>Added as part of SFS-8644</description>
        <name>Check_SA_Sharing_for_Self_Scheduling_on_ST</name>
        <label>Check SA Sharing for Self Scheduling on ST</label>
        <locationX>2684</locationX>
        <locationY>14778</locationY>
        <defaultConnector>
            <targetReference>Not_A_New_SA</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Check_SA_Sharing_for_Self_Scheduling_on_Service_Territory</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ServiceTerritory.FSM_SASharingforSelfScheduling__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SA_WO_Share_SubFlow</targetReference>
            </connector>
            <label>Check SA Sharing for Self Scheduling on Service Territory</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_SA_Status</name>
        <label>Check SA Status</label>
        <locationX>2684</locationX>
        <locationY>2976</locationY>
        <defaultConnector>
            <targetReference>TimeSheetEntryCreationCheck</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other Status</defaultConnectorLabel>
        <rules>
            <name>Onsite_OR_In_Progress</name>
            <conditionLogic>(1 OR 2) AND ( 3 OR 4) AND 5</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Onsite</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>In Progress</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ActualStartTime</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>$Record.ArrivalWindowStartTime</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ActualStartTime</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>$Record.ArrivalWindowEndTime</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_CustomerAppointment__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Case_on_Onsite_Inprogress</targetReference>
            </connector>
            <label>Onsite OR In Progress</label>
        </rules>
        <rules>
            <name>Rejected_OR_Cannot_Complete</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rejected</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cannot Complete</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Related_SA</targetReference>
            </connector>
            <label>Rejected OR Cannot Complete</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>Check_Status</name>
        <label>Check Status</label>
        <locationX>5440</locationX>
        <locationY>276</locationY>
        <defaultConnectorLabel>Status have moved</defaultConnectorLabel>
        <rules>
            <name>Status_Still_new</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Custom_Notification_ID</targetReference>
            </connector>
            <label>Status Still new</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>Check_Status_For_Dispatch_Notification</name>
        <label>Check Status For Dispatch Notification</label>
        <locationX>2332</locationX>
        <locationY>15186</locationY>
        <defaultConnector>
            <targetReference>get_last_modified_user_record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Notification</defaultConnectorLabel>
        <rules>
            <name>Status_Moved_to_Dispatched</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Dispatched</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.Status</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Get_Custom_Notification_ID</targetReference>
            </connector>
            <label>Status Moved to Dispatched</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFL-887</description>
        <name>Check_Time_sheet_record</name>
        <label>Check Time sheet record</label>
        <locationX>2068</locationX>
        <locationY>7368</locationY>
        <defaultConnector>
            <targetReference>Loop_AssignedResourceID</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>TimeSheet record not found</defaultConnectorLabel>
        <rules>
            <name>TimeSheet_Record_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>AllTimesheet</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_AllAssignedResourceID</targetReference>
            </connector>
            <label>TimeSheet Record Found</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFL-887</description>
        <name>Check_Timesheet_Resource</name>
        <label>Check Timesheet Resource</label>
        <locationX>2640</locationX>
        <locationY>7800</locationY>
        <defaultConnector>
            <targetReference>Loop_AllTimesheet</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Timesheet_Resource_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_AllTimesheet.ServiceResourceId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Loop_AllAssignedResourceID</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_YesTimesheetFound</targetReference>
            </connector>
            <label>Found Timesheet Resource</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-8393</description>
        <name>Check_whether_any_abscences</name>
        <label>Check whether any abscences</label>
        <locationX>2684</locationX>
        <locationY>17910</locationY>
        <defaultConnector>
            <targetReference>Update_Records_18</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_abscence</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_absence_records_for_SA</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <label>Yes abscence</label>
        </rules>
    </decisions>
    <decisions>
        <description>Created as a part of SFS-730
Created as a part of SFS-3052</description>
        <name>Checking_For_Record_s_Parent_Bundle_SA_and_BU</name>
        <label>Checking For Record&apos;s Parent Bundle SA and BU</label>
        <locationX>3130</locationX>
        <locationY>13428</locationY>
        <defaultConnector>
            <targetReference>Check_SA_Sharing_for_Self_Scheduling_on_ST</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Record&apos;s Bundle SA Not Populated</defaultConnectorLabel>
        <rules>
            <name>Record_s_Bundle_SA_Populated_and_Has_BU</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RelatedBundleId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsBundleMember</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_For_Record_s_WO_s_ParentWOId</targetReference>
            </connector>
            <label>Record&apos;s Bundle SA Populated and Has BU</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copy_1_of_SA_Status_changed</name>
        <label>Copy 1 of SA Status changed</label>
        <locationX>2530</locationX>
        <locationY>12204</locationY>
        <defaultConnector>
            <targetReference>TMA_check</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Copy_1_of_Change</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RelatedBundleId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_SABundle</targetReference>
            </connector>
            <label>Copy 1 of Change</label>
        </rules>
    </decisions>
    <decisions>
        <name>Count_Rejected_Cannot_Complete_SA</name>
        <label>Count Rejected/Cannot Complete SA</label>
        <locationX>2728</locationX>
        <locationY>3300</locationY>
        <defaultConnector>
            <targetReference>TimeSheetEntryCreationCheck</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Greater_Then_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>countRejectCannotComplete</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>2.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Case_Record</targetReference>
            </connector>
            <label>Greater Then 2</label>
        </rules>
    </decisions>
    <decisions>
        <name>Create_ASR</name>
        <label>Create ASR</label>
        <locationX>2530</locationX>
        <locationY>2484</locationY>
        <defaultConnector>
            <targetReference>Check_SA_Status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SR_present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Assigned_Resource_Record.ServiceResourceId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Schedule_Self_SA</targetReference>
            </connector>
            <label>SR present</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFL-1263</description>
        <name>crewLeaderPresent</name>
        <label>crewLeaderPresent</label>
        <locationX>2255</locationX>
        <locationY>1392</locationY>
        <defaultConnector>
            <targetReference>add_non_leader_externalID_to_WO</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>yes_leader</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>is_leader</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>add_leader_external_ID_to_WO</targetReference>
            </connector>
            <label>yes leader</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFI-1557</description>
        <name>EventType</name>
        <label>EventType</label>
        <locationX>2266</locationX>
        <locationY>3792</locationY>
        <defaultConnector>
            <targetReference>Get_service_resource_record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>NonProductiveTime</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSM_TimeEventType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Non Productive Time</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>TSENonProductiveTime</targetReference>
            </connector>
            <label>NonProductiveTime</label>
        </rules>
        <rules>
            <name>ProductiveTime</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSM_TimeEventType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Productive Time</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>TSEProductiveTime</targetReference>
            </connector>
            <label>ProductiveTime</label>
        </rules>
        <rules>
            <name>TravelTime</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSM_TimeEventType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Travel Time</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>TSETravelTime</targetReference>
            </connector>
            <label>TravelTime</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFI-1557</description>
        <name>If_record_found</name>
        <label>If record found</label>
        <locationX>2266</locationX>
        <locationY>4200</locationY>
        <defaultConnector>
            <targetReference>TimeSheetEntryCreationNPT</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Record_found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_service_resource_record</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_time_sheet</targetReference>
            </connector>
            <label>Yes Record found</label>
        </rules>
    </decisions>
    <decisions>
        <description>created as part of SFS-5307
Updated as part of SFI-2751</description>
        <name>If_status_is_completed_or_can_not_complete</name>
        <label>If status is completed or can not complete</label>
        <locationX>2684</locationX>
        <locationY>5772</locationY>
        <defaultConnector>
            <targetReference>Check_completion_status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Completed_Cannot_Complete</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>FinalTiimesheetUpdated</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Latest_time_sheet_Entry_Records</targetReference>
            </connector>
            <label>Completed</label>
        </rules>
    </decisions>
    <decisions>
        <description>added as part of SFI-2751</description>
        <name>If_status_is_completed_or_can_not_complete_1</name>
        <label>If status is completed or can not complete</label>
        <locationX>2002</locationX>
        <locationY>4956</locationY>
        <defaultConnector>
            <targetReference>TimeSheetEntryCreationNPT</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Completed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Final_timesheet_entry</targetReference>
            </connector>
            <label>Completed</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFI-1557</description>
        <name>If_time_sheet_entry_latest_record_there</name>
        <label>If time sheet entry latest record there ?</label>
        <locationX>2464</locationX>
        <locationY>5988</locationY>
        <defaultConnector>
            <targetReference>Check_completion_status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>latest_records_there</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Latest_time_sheet_Entry_Records</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Latest_time_sheet_entry_reocord</targetReference>
            </connector>
            <label>latest records there</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>Is_all_details_available</name>
        <label>Is all details available?</label>
        <locationX>2068</locationX>
        <locationY>15510</locationY>
        <defaultConnector>
            <targetReference>get_last_modified_user_record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>all_details_present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Assigned_Resource</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Copy_1_of_Get_Custom_Notification_ID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Assign_User_ID</targetReference>
            </connector>
            <label>all details present</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFI-2314</description>
        <name>Is_Bundle_Check</name>
        <label>Is Bundle Check</label>
        <locationX>2684</locationX>
        <locationY>1968</locationY>
        <defaultConnector>
            <targetReference>self_schedule_New_SA</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Bundle</defaultConnectorLabel>
        <rules>
            <name>It_is_bundle_update_Case</name>
            <conditionLogic>(1 OR 2) AND (3 OR 4 OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.IsBundle</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsBundleMember</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ISNEW</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsBundle</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsBundleMember</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Case_With_Bundle</targetReference>
            </connector>
            <label>It is bundle update Case</label>
        </rules>
        <rules>
            <name>Bundle_updated_to_unchecked</name>
            <conditionLogic>1 AND 2 AND (3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.IsBundle</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsBundleMember</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsBundle</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.IsBundleMember</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Case_With_Bundle_False</targetReference>
            </connector>
            <label>Bundle updated to unchecked</label>
        </rules>
    </decisions>
    <decisions>
        <description>as part of user story #SFS-304
Updated as a part of user story #SFS-730
Updated as part of SFi-2256</description>
        <name>Is_Changed_SA_Status</name>
        <label>Is Changed SA Status</label>
        <locationX>2684</locationX>
        <locationY>13212</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Checking_For_Record_s_Parent_Bundle_SA_and_BU</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Changed</defaultConnectorLabel>
        <rules>
            <name>Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ParentRecordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>0WO</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SA_Status_changed</targetReference>
            </connector>
            <label>Changed</label>
        </rules>
        <rules>
            <name>New_Bundle_SA</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.IsBundle</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>NewServiceAppointment</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Bundle_WO</targetReference>
            </connector>
            <label>New Bundle SA</label>
        </rules>
        <rules>
            <name>Not_changed_but_job_is_scheduled_and_tma_permit_or_sch_start_date_is_changed</name>
            <conditionLogic>1 AND 2 AND 3 AND 4 AND 9 AND (5 OR 6) AND (7 OR 8)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Scheduled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SchedStartTime</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SchedStartTime</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>05</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>04</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_InitialNoticesenttoSAP__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_TMA_Notice_Date</targetReference>
            </connector>
            <label>Not changed but job is scheduled and tma permit or sch start date is changed</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-155</description>
        <name>IS_Group_available</name>
        <label>IS Group available</label>
        <locationX>4450</locationX>
        <locationY>492</locationY>
        <defaultConnector>
            <targetReference>Create_Group</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No group</defaultConnectorLabel>
        <rules>
            <name>Group_available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_public_Group</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Service_appointment_Share</targetReference>
            </connector>
            <label>Group available</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFL-1263</description>
        <name>Is_leader_Present</name>
        <label>Is leader Present</label>
        <locationX>2607</locationX>
        <locationY>1008</locationY>
        <defaultConnector>
            <targetReference>loop_through_crew_members</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>yes_leader_present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>loop_through_crew_members.IsLeader</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>loop_through_crew_members.ServiceResource.RelatedRecord.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>add_leader_to_WO</targetReference>
            </connector>
            <label>yes leader present</label>
        </rules>
        <rules>
            <name>leader_not_present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>loop_through_crew_members.IsLeader</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>loop_through_crew_members.ServiceResource.RelatedRecord.IsActive</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>add_non_leader_to_WO_for_crew</targetReference>
            </connector>
            <label>leader not present</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFI-3007</description>
        <name>Is_resource_Crew</name>
        <label>Is resource Crew?</label>
        <locationX>2453</locationX>
        <locationY>684</locationY>
        <defaultConnector>
            <targetReference>Assign_SR_Ext_Id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Technician</defaultConnectorLabel>
        <rules>
            <name>Yes_its_Crew</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Assigned_Service_Resource__r.ResourceType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>C</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Crew_members</targetReference>
            </connector>
            <label>Yes its Crew</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Scheduled_start_date_populated</name>
        <label>Is Scheduled start date populated?</label>
        <locationX>248</locationX>
        <locationY>13728</locationY>
        <defaultConnector>
            <targetReference>Check_SA_Sharing_for_Self_Scheduling_on_ST</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Scheduled Start Date Empty</defaultConnectorLabel>
        <rules>
            <name>Scheduled_start_date_populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.SchedStartTime</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_InitialNoticesenttoSAP__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>check_if_sch_date_or_permit_is_changed</targetReference>
            </connector>
            <label>Is Scheduled start date populated?</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFL-887</description>
        <name>Is_Timesheet_available_for_creation</name>
        <label>Is Timesheet available for creation?</label>
        <locationX>2068</locationX>
        <locationY>8760</locationY>
        <defaultConnector>
            <targetReference>Loop_TimeSheetList</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Timesheet for creation</defaultConnectorLabel>
        <rules>
            <name>Yes_Timesheet_available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>TimesheetList</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_timesheet</targetReference>
            </connector>
            <label>Yes Timesheet available</label>
        </rules>
    </decisions>
    <decisions>
        <description>Created as a part of SFS-1652</description>
        <name>Is_User_Excluded</name>
        <label>Is User Excluded?</label>
        <locationX>1018</locationX>
        <locationY>14052</locationY>
        <defaultConnector>
            <targetReference>Platform_Event_for_Auto_Scheduling</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>User_is_Excluded</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCMDTLevel2.FSM_ExcludeCurrentUser__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Excluded_Resource_Preference</targetReference>
            </connector>
            <label>User is Excluded</label>
        </rules>
    </decisions>
    <decisions>
        <description>Created as a part of SFS-1652</description>
        <name>Metadata_Record_found</name>
        <label>Metadata Record found?</label>
        <locationX>1172</locationX>
        <locationY>13836</locationY>
        <defaultConnector>
            <targetReference>FSM_UpdateWorkOrderStatus</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not Found</defaultConnectorLabel>
        <rules>
            <name>Record_found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCMDTLevel2.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Status_to_New</targetReference>
            </connector>
            <label>Record found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Not_A_New_SA</name>
        <label>Not A New SA</label>
        <locationX>2684</locationX>
        <locationY>15078</locationY>
        <defaultConnector>
            <targetReference>Check_if_SA_changed_to_Cancelled_or_back_to_New</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Not_A_New_Service_Appointment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>NewServiceAppointment</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Status_For_Dispatch_Notification</targetReference>
            </connector>
            <label>Not A New Service Appointment</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-6638
updated as part of sfs-8331</description>
        <name>Priority_work_dispatched</name>
        <label>Priority work dispatched</label>
        <locationX>1716</locationX>
        <locationY>15726</locationY>
        <defaultConnector>
            <targetReference>get_last_modified_user_record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Priority_is_dispatched</name>
            <conditionLogic>(1 OR 2) AND 3 AND 4</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.Priority</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>1</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.Priority</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>2</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ServiceTerritory.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>WD4</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Water Infra</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Dispatched_Notification</targetReference>
            </connector>
            <label>Priority is dispatched</label>
        </rules>
        <rules>
            <name>Outcome_2_of_Priority_work_dispatched</name>
            <conditionLogic>1 AND (2 OR 3 OR 4) AND (5 OR 6 OR 7)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_ServiceOrderType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ZPM3</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Water Non Infra</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Waste Non Infra</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Bio Resource</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_SAPJobPriority__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_SAPJobPriority__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>2.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_SAPJobPriority__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>3.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Copy_1_of_Dispatched_Notification</targetReference>
            </connector>
            <label>Outcome 2 of Priority work dispatched</label>
        </rules>
        <rules>
            <name>Is_dispatched_for_Select_and_Schedule</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSM_Self_Assigned__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Dispatched_Notification</targetReference>
            </connector>
            <label>Is dispatched for Select and Schedule?</label>
        </rules>
        <rules>
            <name>Is_dispatched_for_Metering</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Metering</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_2_of_Dispatched_Notification</targetReference>
            </connector>
            <label>Is dispatched for Metering</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-2979</description>
        <name>SA_In_Jeopardy</name>
        <label>SA In Jeopardy?</label>
        <locationX>2332</locationX>
        <locationY>16902</locationY>
        <defaultConnector>
            <targetReference>Check_if_SA_changed_to_Cancelled_or_back_to_New</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>In_Jeopardy</name>
            <conditionLogic>(1 AND 2) OR (2 AND 3 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardy__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.FSL__InJeopardy__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardy__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardyReason__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.FSL__InJeopardyReason__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSL__InJeopardyReason__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Jeopardy_Reason</targetReference>
            </connector>
            <label>In Jeopardy</label>
        </rules>
    </decisions>
    <decisions>
        <description>As part of SFS-4068</description>
        <name>SA_Status_Cannot_Complete_Completed</name>
        <label>SA Status Cannot Complete/Completed?</label>
        <locationX>2684</locationX>
        <locationY>10416</locationY>
        <defaultConnector>
            <targetReference>Check_Case_Managing_Required</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Cannot_Complete_Completed</name>
            <conditionLogic>(1 OR 2) AND (3 OR 4 OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cannot Complete</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_TMASiteClear__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_ExcavationOccured__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_SiteStopDateTime__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_TMA_Permit</targetReference>
            </connector>
            <label>Cannot Complete/Completed</label>
        </rules>
    </decisions>
    <decisions>
        <name>SA_Status_changed</name>
        <label>SA Status changed</label>
        <locationX>1315</locationX>
        <locationY>13320</locationY>
        <defaultConnector>
            <targetReference>Status_Changed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Change</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RelatedBundleId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SABundle</targetReference>
            </connector>
            <label>Change</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-5424/6208</description>
        <name>self_schedule_New_SA</name>
        <label>self schedule New SA</label>
        <locationX>2684</locationX>
        <locationY>2268</locationY>
        <defaultConnector>
            <targetReference>Check_SA_Status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Schedule_required</name>
            <conditionLogic>1 AND 2 AND 3 AND 4 AND 5 AND (6 OR 7)</conditionLogic>
            <conditions>
                <leftValueReference>IsSelfSchedulePermission</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_WorkTypeCode__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>SELF</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ISNEW</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SchedEndTime</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ServiceTerritory.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Water Non Infra</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ServiceTerritory.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Waste Non Infra</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Assigned_Resource_Record</targetReference>
            </connector>
            <label>Schedule required</label>
        </rules>
    </decisions>
    <decisions>
        <description>added as part of SFS-7965</description>
        <name>Status_Changed</name>
        <label>Is Status Changed?</label>
        <locationX>1315</locationX>
        <locationY>13620</locationY>
        <defaultConnector>
            <targetReference>test_onsite</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Status not changed to Scheduled</defaultConnectorLabel>
        <rules>
            <name>SA_Status_Changed_to_Scheduled</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Scheduled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>05</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>04</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_Scheduled_start_date_populated</targetReference>
            </connector>
            <label>Status Changed to Scheduled and has Permit</label>
        </rules>
        <rules>
            <name>Status_Changed_to_Scheduled_and_has_no_Permit</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Scheduled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <label>Status Changed to Scheduled and has  no Permit</label>
        </rules>
        <rules>
            <name>Status_Changed_to_Rejected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rejected</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record__Prior.Status</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record.Status</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_CMDT2_Record</targetReference>
            </connector>
            <label>Rejected</label>
        </rules>
        <rules>
            <name>TMA_Core_SA_unscheduled_and_Notice_Not_Sent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record__Prior.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Scheduled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_CoreTMAJob__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_TMA_Permit__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_InitialNoticesenttoSAP__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Status_New</targetReference>
            </connector>
            <label>TMA Core SA unscheduled and Notice Not Sent</label>
        </rules>
        <rules>
            <name>status_changed_to_scheduled_immidiate_tma</name>
            <conditionLogic>1 AND 2 AND (3 OR 4) AND 5</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Scheduled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>05</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>04</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_WorkOrderRefID__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Wo_id_record_update_on_tma_field</targetReference>
            </connector>
            <label>status changed to scheduled ,immidiate tma</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFL-887</description>
        <name>Timesheet_Record_Found1</name>
        <label>Timesheet Record Found?</label>
        <locationX>2420</locationX>
        <locationY>8184</locationY>
        <defaultConnector>
            <targetReference>Loop_AllAssignedResourceID</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Not_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>YesTimesheetFound</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Assign_Timesheet_Record</targetReference>
            </connector>
            <label>Not Found</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFI-1557
Updated as part of SFS-7529</description>
        <name>TimeSheetEntryCreationCheck</name>
        <label>TimeSheetEntryCreationCheck</label>
        <locationX>2684</locationX>
        <locationY>3684</locationY>
        <defaultConnector>
            <targetReference>If_status_is_completed_or_can_not_complete</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>TSEcheck</name>
            <conditionLogic>((1 AND 2 AND 7 AND 10) OR (3 AND 4 AND 8 AND 11) OR (5 AND 6 AND 9 AND 12))</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSM_NonProductiveStartTime__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_NonProductiveEndTime__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_ProductiveStartTime__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_ProductiveEndTime__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_EnrouteStartTime__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_EnrouteEndTime__c</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_NonProductiveEndTime__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.FSM_NonProductiveEndTime__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_ProductiveEndTime__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.FSM_ProductiveEndTime__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_EnrouteEndTime__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record__Prior.FSM_EnrouteEndTime__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_TimeEventType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Non Productive Time</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_TimeEventType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Productive Time</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_TimeEventType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Travel Time</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>EventType</targetReference>
            </connector>
            <label>CreateTimeSheetEntry</label>
        </rules>
    </decisions>
    <decisions>
        <name>TMA_check</name>
        <label>TMA check</label>
        <locationX>2530</locationX>
        <locationY>12504</locationY>
        <defaultConnector>
            <targetReference>Update_self_wo_to_scheduled</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Check_TMA_is_present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>05</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>04</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Slef_wo_tma_update</targetReference>
            </connector>
            <label>Check TMA is present</label>
        </rules>
    </decisions>
    <decisions>
        <name>TMA_Check_For_Earliest_Scheduling_Date_Earliest_Schedulable_Date_Null</name>
        <label>TMA Check For Earliest Scheduling Date &amp; Earliest Schedulable Date Null</label>
        <locationX>2684</locationX>
        <locationY>11796</locationY>
        <defaultConnector>
            <targetReference>Work_order_TMA_of_self_schedule_New_SA_Check</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Earliest_Schedulable_Date_Null</name>
            <conditionLogic>(1 OR 2) AND 3 AND 4</conditionLogic>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_NoticeState__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_Suitability__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>E</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSM_EarliestSchedulableDate__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ISNEW</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>FSM_Earliest_Scheduling_Date</targetReference>
            </connector>
            <label>Earliest Schedulable Date Null</label>
        </rules>
    </decisions>
    <decisions>
        <description>SFS-5424/6208 BUG-6553</description>
        <name>Work_order_TMA_of_self_schedule_New_SA_Check</name>
        <label>Work order TMA of self schedule New SA Check</label>
        <locationX>2684</locationX>
        <locationY>12096</locationY>
        <defaultConnector>
            <targetReference>Is_Changed_SA_Status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Copy_1_of_Schedule_required</name>
            <conditionLogic>1 AND 2 AND 3 AND 4 AND 5 AND (6 OR 7)</conditionLogic>
            <conditions>
                <leftValueReference>IsSelfSchedulePermission</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Scheduled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.FSSK__FSK_Work_Order__r.FSM_WorkTypeCode__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>SELF</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ISNEW</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.SchedEndTime</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ServiceTerritory.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Water Non Infra</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ServiceTerritory.FSM_BusinessUnit__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Waste Non Infra</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_SA_Status_changed</targetReference>
            </connector>
            <label>Copy 1 of Schedule required</label>
        </rules>
    </decisions>
    <description>Updated  as a part of SFS-6638
Update SFS-6663
SFI-25 Master Flow for service appointment Object after instances
Updated as part of SFS-5208
Updated As part of SFS-155
Updated as part of SFS-304
Updated as part of SFS-1255/810
Updated as a part of SFI-266 (Interface Toggle on/off)
Updated as part of SFS-2136
Updated as part of SFS-1888
Updated as part of SFI-461
Updated as part of SFS-1890
Updated as a part of SFS-2233
Updated as a Fix of SFS-2790
Updated as a part of SFI-696
Updated as part of SFS-730/SFS-3052
Updated as a Part Of SFs-3002
Updated as part of SFS-2979
Updated as a part of SFS-3613
Updated as part of SFI-679
Updated as part of SFS-1652
Updated as part of SFS-2998
Updated as part of SFS-4068
Updated as part of SFI-1256
Updated as a part of SFS-4472
Updated as a part of sfi-1557
updated as part of sfs-4791
updated as part of SFS-4788
Updated as  a part of SFS-4792 - removed reference of TMA Actual Start field on SA
Updated as part of SFS-5171
Updated as part of SFI-1783, added scheduled path to delete sharing if temporary record
updated as part of SFS-5307
Updated as  Part of SFI-1927
Updated as Part of SFI-2254
Updated as Part of SFI-2256
Updated as part of SFI-2314
Updated as part of SFI-1994
Updated as part of SFS-6665
Updated as part of SFI-2670 Polygon error population
Updated as part of SFI-2751
Updated as part of SFS-7529
updated as part of sfs-7569
updated as part of sfI-2889
Updated as part of sfs-7814
Updated as part of SFI-2961
updated as part of SFS-7965
updated as part of SFI-2994
updated as part of sfs-8185
updated as part of sfs-8138
Updated as part of SFI-3007
updated as part of sfs-8331
Updated for SFS-8285
updated as part of SFS-8393
Updated as part of SFS-8403
Updated as part of SFS-8469
Updated as part of SFS-8637
Updated as part of SFS-8644
Updated as part of SFS-8752 to add entry condition for the flow
Updated as part of SFS-8779
Updated as part of SFS-8940
Updated as part of SFL-396..
Updated as part of SFL - 785
Updated as part of SFL-887 Added the functionality for Timesheets Redesign Automate Timesheet Entries for Crew
Updated as part of SFL-1068
updated as a part of SFL-1059
updated as a part of SFL-966
also reverted changes from SFL-966 as this need to be discussed 
updated as a part of SFL-1263
updated at the very end to test SFL-1198
reverted back the changes made for SFL-1198</description>
    <environments>Default</environments>
    <formulas>
        <description>this is used to hey tall the breaks that are for the date when the job is scheduled</description>
        <name>formulaendchange</name>
        <dataType>DateTime</dataType>
        <expression>IF( ISBLANK({!$Record.SchedStartTime}), NULL, DATETIMEVALUE( TEXT( DATEVALUE({!$Record.SchedStartTime}) ) &amp; &quot; 23:59:58&quot; ) )</expression>
    </formulas>
    <formulas>
        <name>formulaenddatechange</name>
        <dataType>DateTime</dataType>
        <expression>IF( ISBLANK({!$Record.SchedStartTime}), NULL, DATETIMEVALUE( TEXT( DATEVALUE({!$Record.SchedStartTime}) ) &amp; &quot; 23:58:58&quot; ) )</expression>
    </formulas>
    <formulas>
        <name>formulastartchange</name>
        <dataType>DateTime</dataType>
        <expression>IF( ISBLANK({!$Record.SchedStartTime}), NULL, DATETIMEVALUE( TEXT( DATEVALUE({!$Record.SchedStartTime}) ) &amp; &quot; 00:00:00&quot; ) )</expression>
    </formulas>
    <formulas>
        <name>formulastartdatechange</name>
        <dataType>DateTime</dataType>
        <expression>IF( ISBLANK({!$Record.SchedStartTime}), NULL, DATETIMEVALUE( TEXT( DATEVALUE({!$Record.SchedStartTime}) ) &amp; &quot; 00:00:00&quot; ) )</expression>
    </formulas>
    <formulas>
        <description>SFS-155</description>
        <name>GroupName</name>
        <dataType>String</dataType>
        <expression>TRIM(LEFT(&apos;FSM_FW_&apos;+{!$Record.ServiceTerritory.Name},40))</expression>
    </formulas>
    <formulas>
        <name>ISNEW</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <formulas>
        <name>IsSelfSchedulePermission</name>
        <dataType>Boolean</dataType>
        <expression>{!$Permission.FSM_IntegrationSelfSchedulePermission}</expression>
    </formulas>
    <formulas>
        <name>NewServiceAppointment</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <formulas>
        <name>SelfWorktypeScheduleEndTime</name>
        <dataType>DateTime</dataType>
        <expression>{!$Flow.CurrentDateTime}+({!HoursDuration}/24)+({!MinutesDurationVar}/1440)</expression>
    </formulas>
    <interviewLabel>ServiceAppointment - afterTrigger {!$Flow.CurrentDateTime}</interviewLabel>
    <label>FSM_ServiceAppointmentAfterTrigger</label>
    <loops>
        <description>SFL-887</description>
        <name>Loop_AllAssignedResourceID</name>
        <label>Loop AllAssignedResourceID</label>
        <locationX>1980</locationX>
        <locationY>7476</locationY>
        <collectionReference>AllAssignedResourceID</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Reset_YesTimesheetFound</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Is_Timesheet_available_for_creation</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>SFL-887</description>
        <name>Loop_AllTimesheet</name>
        <label>Loop AllTimesheet</label>
        <locationX>2420</locationX>
        <locationY>7692</locationY>
        <collectionReference>AllTimesheet</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_Timesheet_Resource</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Timesheet_Record_Found1</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>SFL-887</description>
        <name>Loop_AllTimeSheetEntry</name>
        <label>Loop AllTimeSheetEntry</label>
        <locationX>2244</locationX>
        <locationY>9408</locationY>
        <collectionReference>Get_AllTimeSheetEntry</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_TSE_record</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Loop_TimeSheetList</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>SFL-887</description>
        <name>Loop_Assigned_resource</name>
        <label>Loop Assigned resource</label>
        <locationX>2068</locationX>
        <locationY>6960</locationY>
        <collectionReference>AllAssignedResource</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Service_resource_List</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>AllTimesheet</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>SFL-887</description>
        <name>Loop_AssignedResourceID</name>
        <label>Loop AssignedResourceID</label>
        <locationX>2156</locationX>
        <locationY>7476</locationY>
        <collectionReference>AllAssignedResourceID</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Timesheet_Record</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Is_Timesheet_available_for_creation</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>SFL-1263</description>
        <name>loop_through_crew_members</name>
        <label>loop through crew members</label>
        <locationX>2255</locationX>
        <locationY>900</locationY>
        <collectionReference>Get_Crew_members</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Is_leader_Present</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>crewLeaderPresent</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>SFL-887</description>
        <name>Loop_TimeSheetList</name>
        <label>Loop TimeSheetList</label>
        <locationX>2068</locationX>
        <locationY>9300</locationY>
        <collectionReference>AllTimesheetForTimeEntryCreation</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Loop_AllTimeSheetEntry</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_AllTSE_Record</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>ASR_creation_for_self_schedule</name>
        <label>ASR creation for self schedule</label>
        <locationX>2398</locationX>
        <locationY>2700</locationY>
        <connector>
            <targetReference>Check_SA_Status</targetReference>
        </connector>
        <inputAssignments>
            <field>ServiceAppointmentId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ServiceResourceId</field>
            <value>
                <elementReference>Get_Assigned_Resource_Record.ServiceResourceId</elementReference>
            </value>
        </inputAssignments>
        <object>AssignedResource</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFS-155</description>
        <name>Copy_1_of_Create_Work_Order_Share</name>
        <label>Create Work Order Share</label>
        <locationX>4582</locationX>
        <locationY>816</locationY>
        <inputAssignments>
            <field>AccessLevel</field>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RowCause</field>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UserOrGroupId</field>
            <value>
                <elementReference>Create_Group</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrderShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFS-155</description>
        <name>Copy_1_of_Service_appointment_Share</name>
        <label>Service appointment Share</label>
        <locationX>4582</locationX>
        <locationY>708</locationY>
        <connector>
            <targetReference>Copy_1_of_Create_Work_Order_Share</targetReference>
        </connector>
        <inputAssignments>
            <field>AccessLevel</field>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RowCause</field>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UserOrGroupId</field>
            <value>
                <elementReference>Create_Group</elementReference>
            </value>
        </inputAssignments>
        <object>ServiceAppointmentShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Create_a_new_timesheet</name>
        <label>Create a new timesheet</label>
        <locationX>1738</locationX>
        <locationY>4524</locationY>
        <connector>
            <targetReference>Copy_1_of_assign_time_sheet_id</targetReference>
        </connector>
        <faultConnector>
            <targetReference>CreateTimeSheetEntryErrorLog</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>EndDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ServiceResourceId</field>
            <value>
                <elementReference>Get_service_resource_record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StartDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>New</stringValue>
            </value>
        </inputAssignments>
        <object>TimeSheet</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFL-887</description>
        <name>Create_AllTSE_Record</name>
        <label>Create AllTSE Record</label>
        <locationX>2068</locationX>
        <locationY>9900</locationY>
        <connector>
            <targetReference>SA_Status_Cannot_Complete_Completed</targetReference>
        </connector>
        <faultConnector>
            <targetReference>TimeSheeEntryErrorLog</targetReference>
        </faultConnector>
        <inputReference>AllTSEtoBeCreated</inputReference>
    </recordCreates>
    <recordCreates>
        <description>Created as part of SFS-1652</description>
        <name>Create_Excluded_Resource_Preference</name>
        <label>Create Excluded Resource Preference</label>
        <locationX>886</locationX>
        <locationY>14160</locationY>
        <connector>
            <targetReference>Platform_Event_for_Auto_Scheduling</targetReference>
        </connector>
        <inputAssignments>
            <field>PreferenceType</field>
            <value>
                <stringValue>Excluded</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RelatedRecordId</field>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ServiceResourceId</field>
            <value>
                <elementReference>$Record.FSSK__FSK_Assigned_Service_Resource__r.Id</elementReference>
            </value>
        </inputAssignments>
        <object>ResourcePreference</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFS-155</description>
        <name>Create_Group</name>
        <label>Create Group</label>
        <locationX>4582</locationX>
        <locationY>600</locationY>
        <connector>
            <targetReference>Copy_1_of_Service_appointment_Share</targetReference>
        </connector>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>GroupName</elementReference>
            </value>
        </inputAssignments>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFL-887</description>
        <name>Create_timesheet</name>
        <label>Create timesheet</label>
        <locationX>1804</locationX>
        <locationY>8868</locationY>
        <connector>
            <targetReference>Assign_created_timesheet_to_collection</targetReference>
        </connector>
        <faultConnector>
            <targetReference>TimeSheeErrorLog</targetReference>
        </faultConnector>
        <inputReference>TimesheetList</inputReference>
    </recordCreates>
    <recordCreates>
        <description>SFS-155</description>
        <name>Create_Work_Order_Share</name>
        <label>Create Work Order Share</label>
        <locationX>4318</locationX>
        <locationY>708</locationY>
        <inputAssignments>
            <field>AccessLevel</field>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RowCause</field>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UserOrGroupId</field>
            <value>
                <elementReference>Get_public_Group.Id</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrderShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>Created as part of SFS-1652</description>
        <name>Platform_Event_for_Auto_Scheduling</name>
        <label>Platform Event for Auto-Scheduling</label>
        <locationX>1018</locationX>
        <locationY>14352</locationY>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Update_WorkOrder_Status</targetReference>
        </connector>
        <inputAssignments>
            <field>FSM_SchedulingPolicyId__c</field>
            <value>
                <elementReference>$Record.ServiceTerritory.FSM_AutoSchedulePolicy__r.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_ServiceAppointmentId__c</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <object>FSM_AutoScheduleding__e</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFS-155</description>
        <name>Service_appointment_Share</name>
        <label>Service appointment Share</label>
        <locationX>4318</locationX>
        <locationY>600</locationY>
        <connector>
            <targetReference>Create_Work_Order_Share</targetReference>
        </connector>
        <inputAssignments>
            <field>AccessLevel</field>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ParentId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RowCause</field>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>UserOrGroupId</field>
            <value>
                <elementReference>Get_public_Group.Id</elementReference>
            </value>
        </inputAssignments>
        <object>ServiceAppointmentShare</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>SFI-1557</description>
        <name>TimeSheetEntryCreationNPT</name>
        <label>TimeSheetEntryCreationNPT</label>
        <locationX>2266</locationX>
        <locationY>5340</locationY>
        <connector>
            <targetReference>If_status_is_completed_or_can_not_complete</targetReference>
        </connector>
        <faultConnector>
            <targetReference>TimeSheetEntryErrorLog</targetReference>
        </faultConnector>
        <inputReference>TSERecord</inputReference>
    </recordCreates>
    <recordDeletes>
        <description>SFS-155</description>
        <name>Delete_resource_pref</name>
        <label>Delete resource pref</label>
        <locationX>5110</locationX>
        <locationY>816</locationY>
        <connector>
            <targetReference>Update_record</targetReference>
        </connector>
        <inputReference>Get_resource_pref</inputReference>
    </recordDeletes>
    <recordDeletes>
        <description>SFI-1783</description>
        <name>Delete_SA_Sharing</name>
        <label>Delete SA Sharing</label>
        <locationX>9334</locationX>
        <locationY>384</locationY>
        <connector>
            <targetReference>Delete_WO_Sharing</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccessLevel</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </filters>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>RowCause</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </filters>
        <object>ServiceAppointmentShare</object>
    </recordDeletes>
    <recordDeletes>
        <description>SFI-1783</description>
        <name>Delete_WO_Sharing</name>
        <label>Delete WO Sharing</label>
        <locationX>9334</locationX>
        <locationY>492</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccessLevel</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Edit</stringValue>
            </value>
        </filters>
        <filters>
            <field>RowCause</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Manual</stringValue>
            </value>
        </filters>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ParentRecordId</elementReference>
            </value>
        </filters>
        <object>WorkOrderShare</object>
    </recordDeletes>
    <recordLookups>
        <description>SFL-887</description>
        <name>AllAssignedResource</name>
        <label>AllAssignedResource</label>
        <locationX>2420</locationX>
        <locationY>6744</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>check_AllAssignedResource</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ServiceAppointmentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>ServiceResourceId</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Assigned_Service_Resource__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>AssignedResource</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFL-887</description>
        <name>AllTimesheet</name>
        <label>AllTimesheet</label>
        <locationX>2068</locationX>
        <locationY>7260</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Time_sheet_record</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ServiceResourceId</field>
            <operator>In</operator>
            <value>
                <elementReference>AllAssignedResourceID</elementReference>
            </value>
        </filters>
        <filters>
            <field>StartDate</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>TimeSheet</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Copy_1_of_Get_Custom_Notification_ID</name>
        <label>Get Custom Notification ID</label>
        <locationX>2068</locationX>
        <locationY>15294</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Assigned_Resource</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_Service_Resource_Custom_Notification</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CustomNotificationType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Fetch_Email_Template</name>
        <label>Fetch Email Template</label>
        <locationX>2552</locationX>
        <locationY>11172</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Fetch_Service_Recovery_Account</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_ServiceRecovery</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>EmailTemplate</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Fetch_Service_Recovery_Account</name>
        <label>Fetch Service Recovery Account</label>
        <locationX>2552</locationX>
        <locationY>11280</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Fetch_Service_Recovery_Contact</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Service Recovery Team</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Fetch_Service_Recovery_Contact</name>
        <label>Fetch Service Recovery Contact</label>
        <locationX>2552</locationX>
        <locationY>11388</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Default_Email_Infra</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Fetch_Service_Recovery_Account.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>FSM_BusinessUnit__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSM_BusinessUnit__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Contact</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-8393</description>
        <name>get_absence_records_for_SA</name>
        <label>get absence records for SA</label>
        <locationX>2684</locationX>
        <locationY>17694</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_color_code_meta_data_record</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ResourceId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Assigned_Service_Resource__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Start</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>$Record.SchedStartTime</elementReference>
            </value>
        </filters>
        <filters>
            <field>End</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <elementReference>$Record.SchedEndTime</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ResourceAbsence</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFL-887</description>
        <name>Get_AllTimeSheetEntry</name>
        <label>Get AllTimeSheetEntry</label>
        <locationX>2420</locationX>
        <locationY>6636</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>AllAssignedResource</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>FSM_ServiceAppointmentId__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>TimeSheetEntry</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Get_Assigned_Resource</name>
        <label>Get Assigned Resource</label>
        <locationX>2068</locationX>
        <locationY>15402</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_all_details_available</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ServiceAppointmentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>ServiceCrewId</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>AssignedResource</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-6208</description>
        <name>Get_Assigned_Resource_Record</name>
        <label>Get Assigned Resource Record</label>
        <locationX>2530</locationX>
        <locationY>2376</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_ASR</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RelatedRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ResourcePreference</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Created as a part of SFS-1652</description>
        <name>Get_CMDT2_Record</name>
        <label>Get CMDT2 Record</label>
        <locationX>1172</locationX>
        <locationY>13728</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Metadata_Record_found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>FSM_BusinessUnit__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSM_BusinessUnit__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>FSM_SAPName__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSM_RejectReason__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>FSM_RejectionCategory__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSM_ReasonCategory__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>FSM_AutomationLogic__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Auto-scheduled		</stringValue>
            </value>
        </filters>
        <object>FSM_CMDTLevel2__mdt</object>
        <outputReference>varCMDTLevel2</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>FSM_BusinessUnit__c</queriedFields>
        <queriedFields>FSM_AutomationLogic__c</queriedFields>
        <queriedFields>FSM_ExcludeCurrentUser__c</queriedFields>
        <queriedFields>FSM_RejectionCategory__c</queriedFields>
        <queriedFields>FSM_RejectionReason__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>SFS-8393</description>
        <name>Get_color_code_meta_data_record</name>
        <label>Get color code meta data record</label>
        <locationX>2684</locationX>
        <locationY>17802</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_whether_any_abscences</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>FSM_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Scheduled</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_StatusColorCode__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFI-3007 and SFL- 1263</description>
        <name>Get_Crew_members</name>
        <label>Get Crew members</label>
        <locationX>2255</locationX>
        <locationY>792</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>loop_through_crew_members</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ServiceCrewId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Assigned_Service_Resource__r.ServiceCrewId</elementReference>
            </value>
        </filters>
        <filters>
            <field>StartDate</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>$Record.SchedStartTime</elementReference>
            </value>
        </filters>
        <filters>
            <field>EndDate</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <elementReference>$Record.SchedEndTime</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>ServiceCrewMember</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>metadata record fetch for interface toggle on/off SFI-266</description>
        <name>Get_Custom_Metadata_record_for_interface_toggle</name>
        <label>Get Custom Metadata record for interface toggle</label>
        <locationX>2178</locationX>
        <locationY>16410</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>check_if_any_interface_toggle_is_On</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Active__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>FSM_InterfaceAPIName__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_SendServiceAppointmentUpdates__e</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FSM_InterfaceToggle__mdt</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Get_Custom_Notification_ID</name>
        <label>Get Custom Notification ID</label>
        <locationX>5242</locationX>
        <locationY>384</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_resource_pref</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>FSM_ServiceResourceCustomNotification</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CustomNotificationType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Query the org wide email address with name &apos;Default_Email_Infra&apos;</description>
        <name>Get_Default_Email_Infra</name>
        <label>Get Default Emai lInfra</label>
        <locationX>2552</locationX>
        <locationY>11496</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Send_Email_Alert</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DisplayName</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>OrgWideEmail_Name</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>OrgWideEmailAddress</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFI-2889</description>
        <name>get_last_modified_user_record</name>
        <label>get last modified user record</label>
        <locationX>2332</locationX>
        <locationY>16194</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_for_Platform_Event_fire_chnages</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.LastModifiedById</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>FSM_ExternalId__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFI-1557</description>
        <name>Get_Latest_time_sheet_Entry_Records</name>
        <label>Get Latest time sheet Entry Records</label>
        <locationX>2464</locationX>
        <locationY>5880</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_time_sheet_entry_latest_record_there</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>FSM_ServiceAppointmentId__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>TimeSheetEntry</object>
        <sortField>LastModifiedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Get_public_Group</name>
        <label>Get public Group</label>
        <locationX>4450</locationX>
        <locationY>384</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>IS_Group_available</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GroupName</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Related_SA</name>
        <label>Get Related SA</label>
        <locationX>2728</locationX>
        <locationY>3084</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Count_SA</targetReference>
        </connector>
        <filterLogic>1 AND (2 OR 3)</filterLogic>
        <filters>
            <field>FSSK__FSK_Work_Order__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Rejected</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Cannot Complete</stringValue>
            </value>
        </filters>
        <object>ServiceAppointment</object>
        <outputReference>SARecords</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Status</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>SFS-155</description>
        <name>Get_resource_pref</name>
        <label>Get resource pref</label>
        <locationX>5242</locationX>
        <locationY>492</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_if_resource_pref_available</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RelatedRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>FSM_Is_Self_Schedule_Preference__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>PreferenceType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Required</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ResourcePreference</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFI-1557</description>
        <name>Get_service_resource_record</name>
        <label>Get service resource record</label>
        <locationX>2266</locationX>
        <locationY>4092</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_record_found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Assigned_Service_Resource__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ServiceResource</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>SFI-1557</description>
        <name>Get_time_sheet</name>
        <label>Get time sheet</label>
        <locationX>2002</locationX>
        <locationY>4308</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_if_Timesheet_Exists</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ServiceResourceId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_service_resource_record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>StartDate</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>TimeSheet</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Dispatch_self_SA</name>
        <label>Dispatch self SA</label>
        <locationX>2530</locationX>
        <locationY>12912</locationY>
        <connector>
            <targetReference>Copy_1_of_Update_self_wo_to_scheduled</targetReference>
        </connector>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Dispatched</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Schedule_Self_SA</name>
        <label>Schedule Self SA</label>
        <locationX>2398</locationX>
        <locationY>2592</locationY>
        <connector>
            <targetReference>ASR_creation_for_self_schedule</targetReference>
        </connector>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Scheduled</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>SFS-730</description>
        <name>Update_Bundle_WO</name>
        <label>Update Bundle WO</label>
        <locationX>3130</locationX>
        <locationY>13320</locationY>
        <connector>
            <targetReference>Checking_For_Record_s_Parent_Bundle_SA_and_BU</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Call_ErrorLog_SubFlow</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ParentRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_Bundle__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_case</name>
        <label>Update case</label>
        <locationX>2552</locationX>
        <locationY>11064</locationY>
        <connector>
            <targetReference>Fetch_Email_Template</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Case.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_CaseManaged__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_CustomerAtRiskofDissatisfaction__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case_on_Onsite_Inprogress</name>
        <label>Update Case on Onsite/Inprogress</label>
        <locationX>2332</locationX>
        <locationY>3084</locationY>
        <connector>
            <targetReference>TimeSheetEntryCreationCheck</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Case.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_CustomerAtRiskofDissatisfaction__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_MissedAppointment__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Case_Record</name>
        <label>Update Case Record</label>
        <locationX>2596</locationX>
        <locationY>3408</locationY>
        <connector>
            <targetReference>TimeSheetEntryCreationCheck</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Case.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_CustomerAtRiskofDissatisfaction__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_MultipleAttemptedVisits__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <description>SFI-2314</description>
        <name>Update_Case_With_Bundle</name>
        <label>Update Case With Bundle</label>
        <locationX>2420</locationX>
        <locationY>2076</locationY>
        <connector>
            <targetReference>self_schedule_New_SA</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.CaseId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_IsBundle__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <description>SFI-2314</description>
        <name>Update_Case_With_Bundle_False</name>
        <label>Update Case With Bundle False</label>
        <locationX>2684</locationX>
        <locationY>2076</locationY>
        <connector>
            <targetReference>self_schedule_New_SA</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.CaseId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_IsBundle__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <description>SFS-155</description>
        <name>Update_record</name>
        <label>Update record</label>
        <locationX>5110</locationX>
        <locationY>924</locationY>
        <connector>
            <targetReference>Not_Scheduled_Notification</targetReference>
        </connector>
        <inputAssignments>
            <field>FSL__Auto_Schedule__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_SelfSchedule__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_Self_Schedule_Date_Time__c</field>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Created as a part of SFS-730</description>
        <name>Update_Record_s_WO_s_ParentWOId</name>
        <label>Update Record&apos;s WO&apos;s ParentWOId</label>
        <locationX>2646</locationX>
        <locationY>13644</locationY>
        <connector>
            <targetReference>Update_Other_WO_s_ParentWOId</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Copy_1_of_Call_ErrorLog_SubFlow</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ParentRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>ParentWorkOrderId</field>
            <value>
                <elementReference>$Record.RelatedBundle.ParentRecordId</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <description>SFS-8393</description>
        <name>Update_Records_18</name>
        <label>Update Records 18</label>
        <locationX>2816</locationX>
        <locationY>18018</locationY>
        <inputAssignments>
            <field>FSL__GanttColor__c</field>
            <value>
                <elementReference>Get_color_code_meta_data_record.FSM_ColorCode__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSL__InJeopardyReason__c</field>
            <value>
                <stringValue></stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSL__InJeopardy__c</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_RecordsTest</name>
        <label>Update Records</label>
        <locationX>2288</locationX>
        <locationY>17694</locationY>
        <inputAssignments>
            <field>FSSK__FSK_Assigned_Service_Resource__c</field>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>SFI-2897</description>
        <name>Update_relevant_WO</name>
        <label>Update relevant WO</label>
        <locationX>2552</locationX>
        <locationY>384</locationY>
        <connector>
            <targetReference>Check_if_Assigned_res_updated</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ParentRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_ScheduledEnd__c</field>
            <value>
                <elementReference>$Record.SchedEndTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_ScheduledStart__c</field>
            <value>
                <elementReference>$Record.SchedStartTime</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <description>SFI-2897</description>
        <name>Update_relevant_WO_Assign_Res</name>
        <label>Update relevant WO Assign res</label>
        <locationX>2453</locationX>
        <locationY>1776</locationY>
        <connector>
            <targetReference>Is_Bundle_Check</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ParentRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_AssignedResExtID__c</field>
            <value>
                <elementReference>ServiceResourceExtID</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <description>Created as a part of SFS-1652</description>
        <name>Update_Status_to_New</name>
        <label>Update Status to New</label>
        <locationX>1018</locationX>
        <locationY>13944</locationY>
        <connector>
            <targetReference>Is_User_Excluded</targetReference>
        </connector>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>New</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>SFI-1557</description>
        <name>Update_time_sheet_entry</name>
        <label>Update time sheet entry</label>
        <locationX>2200</locationX>
        <locationY>6204</locationY>
        <connector>
            <targetReference>Check_completion_status</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>TimeSheetEntryErrorLog</targetReference>
        </faultConnector>
        <inputReference>Get_Latest_time_sheet_Entry_Records</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Updated as part of SFI-2256</description>
        <name>Update_TMA_Permit</name>
        <label>Update TMA Permit</label>
        <locationX>2420</locationX>
        <locationY>10524</locationY>
        <connector>
            <targetReference>Check_Case_Managing_Required</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_log_Create</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_ExcavationOccured__c</field>
            <value>
                <elementReference>$Record.FSM_ExcavationOccured__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_ScheduledStartDate__c</field>
            <value>
                <elementReference>$Record.SchedStartTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_SiteStopDateTime__c</field>
            <value>
                <elementReference>$Record.FSM_SiteStopDateTime__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_TMAActualEnd__c</field>
            <value>
                <elementReference>$Record.FSM_SiteStopDateTime__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_TMASiteClear__c</field>
            <value>
                <elementReference>$Record.FSM_TMASiteClear__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FSM_WorkOrderRefID__c</field>
            <value>
                <elementReference>$Record.ParentRecordId</elementReference>
            </value>
        </inputAssignments>
        <object>FSM_TMAPermit__c</object>
    </recordUpdates>
    <recordUpdates>
        <description>sfs-8779</description>
        <name>Wo_id_record_update_on_tma_field</name>
        <label>Wo id record update on tma field</label>
        <locationX>1854</locationX>
        <locationY>13728</locationY>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Copy_1_of_Call_ErrorLog_SubFlow</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FSM_WorkOrderRefID__c</field>
            <value>
                <elementReference>$Record.ParentRecordId</elementReference>
            </value>
        </inputAssignments>
        <object>FSM_TMAPermit__c</object>
    </recordUpdates>
    <start>
        <locationX>6411</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Check_if_Scheduled_Start_or_End_updated</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>FSM_IsTemporaryRecord__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>FSM_Backlog__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>ServiceAppointment</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <scheduledPaths>
            <name>Create_Group_Sharing</name>
            <connector>
                <targetReference>Check_for_Record_sharing_conditions</targetReference>
            </connector>
            <label>Create Group Sharing</label>
            <offsetNumber>0</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>CreatedDate</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>Send_Notimication</name>
            <connector>
                <targetReference>Check_Status</targetReference>
            </connector>
            <label>Send Notimication</label>
            <offsetNumber>2</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>FSM_Self_Schedule_Date_Time__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_15_mins_after</name>
            <connector>
                <targetReference>Send_reminder_after_15_mins</targetReference>
            </connector>
            <label>15 mins after</label>
            <offsetNumber>15</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ActualStartTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_30_mins_after</name>
            <connector>
                <targetReference>Send_reminder_after_30_mins</targetReference>
            </connector>
            <label>30 mins after</label>
            <offsetNumber>30</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ActualStartTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_45_mins_after</name>
            <connector>
                <targetReference>Send_reminder_after_45_mins</targetReference>
            </connector>
            <label>45 mins after</label>
            <offsetNumber>45</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ActualStartTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_60_mins_after</name>
            <connector>
                <targetReference>Send_reminder_after_60_mins</targetReference>
            </connector>
            <label>60 mins after</label>
            <offsetNumber>60</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ActualStartTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_75_mins_after</name>
            <connector>
                <targetReference>Send_reminder_after_75_mins</targetReference>
            </connector>
            <label>75 mins after</label>
            <offsetNumber>75</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ActualStartTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_90_mins_after</name>
            <connector>
                <targetReference>update_tma_and_notify</targetReference>
            </connector>
            <label>90 mins after</label>
            <offsetNumber>90</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ActualStartTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_LateToCompleteWaterInfraDevServicesWasteInfra</name>
            <connector>
                <targetReference>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Complete</targetReference>
            </connector>
            <label>45 Min After SchEnd</label>
            <offsetNumber>45</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>SchedEndTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_LateToDispatchWasteInfra</name>
            <connector>
                <targetReference>Call_FSM_ServiceAppointment_Subflow_Jeopardy_Reason_Late_To_Dispatch</targetReference>
            </connector>
            <label>Late To Dispatch Waste Infra</label>
            <offsetNumber>30</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>FSM_EstimatedTravelStart__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_LateToReportOnsiteWaterInfraDevSrvWasteInfra</name>
            <connector>
                <targetReference>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Report_Onsite</targetReference>
            </connector>
            <label>30 minutes after Sch Start</label>
            <offsetNumber>30</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>SchedStartTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_LateToReportOnsiteMetering</name>
            <connector>
                <targetReference>Call_FSM_ServiceAppointment_Subflow_Jeopardy_Reason_Late_To_Report_Onsite_Meteri</targetReference>
            </connector>
            <label>Late To Report Onsite Metering</label>
            <offsetNumber>60</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>FSM_EnrouteStartTime__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_LateToReportAcceptedMeteringAndVirtualMetering</name>
            <connector>
                <targetReference>FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_to_Report_Accepted</targetReference>
            </connector>
            <label>Late To Report Accepted Metering And Virtual Metering</label>
            <offsetNumber>-90</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ArrivalWindowEndTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_LateToEnrouteWaterInfraWasteInfraDevServices</name>
            <connector>
                <targetReference>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Enroute</targetReference>
            </connector>
            <label>Late To Enroute Water Infra Waste Infra DevServices</label>
            <offsetNumber>30</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>FSM_EstimatedTravelStart__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_LateToEnrouteMetering</name>
            <connector>
                <targetReference>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Enroute_Metering</targetReference>
            </connector>
            <label>Late To Enroute Metering</label>
            <offsetNumber>-90</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ArrivalWindowEndTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>Delete_Sharing_for_Temporary_Cust_App_Booking_records</name>
            <connector>
                <targetReference>Check_if_Temporary_record</targetReference>
            </connector>
            <label>Delete Sharing for Temporary Cust App Booking records</label>
            <offsetNumber>1</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>CreatedDate</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>X30Min_Before_Schstart</name>
            <connector>
                <targetReference>Send_Notification_for_waste_Late_to_enroute</targetReference>
            </connector>
            <label>30Min Before Schstart</label>
            <offsetNumber>-30</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>SchedStartTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>X30min_Before_wndowend</name>
            <connector>
                <targetReference>VMT_meteing_notification</targetReference>
            </connector>
            <label>30min Before wndowend</label>
            <offsetNumber>-30</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ArrivalWindowEndTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>FSM_LateToEnrouteNonInfra</name>
            <connector>
                <targetReference>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Enroute_Non_Infra</targetReference>
            </connector>
            <label>Late To Enroute NonInfra</label>
            <offsetNumber>15</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>FSM_EstimatedTravelStart__c</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <description>Created as a part of SFS-3052</description>
        <name>Call_ErrorLog_SubFlow</name>
        <label>Call ErrorLog SubFlow</label>
        <locationX>3526</locationX>
        <locationY>13428</locationY>
        <flowName>ErrorLog_Subflow_Create_Record</flowName>
        <inputAssignments>
            <name>FSM_ExceptionalNumber</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FlowName</name>
            <value>
                <elementReference>$Flow.CurrentRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_Type</name>
            <value>
                <stringValue>Field Service</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-2979</description>
        <name>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Complete</name>
        <label>Call FSM ServiceAppointment - Subflow - Jeaopardy Reason Late To Complete</label>
        <locationX>7486</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointmentSubflowJeaopardyReasonLateToComplete</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-2979</description>
        <name>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Enroute</name>
        <label>Call FSM ServiceAppointment - Subflow - Jeaopardy Reason Late To Enroute</label>
        <locationX>8806</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointmentSubflowJeaopardyReasonLateToEnroute</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-2979</description>
        <name>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Enroute_Metering</name>
        <label>Call FSM ServiceAppointment - Subflow - Jeaopardy Reason Late To Enroute Metering</label>
        <locationX>9070</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointmentSubflowJeaopardyReasonLateToEnrouteMetering</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-2979 ,M SFL-396</description>
        <name>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Enroute_Non_Infra</name>
        <label>Call FSM ServiceAppointment - Subflow - Jeaopardy Reason Late To Enroute Non Infra</label>
        <locationX>10390</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointmentSubflowJeaopardyReasonLateToEnrouteNonInfra</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-2979</description>
        <name>Call_FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Report_Onsite</name>
        <label>Call FSM ServiceAppointment - Subflow - Jeaopardy Reason Late To Report Onsite</label>
        <locationX>8014</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointmentSubflowJeaopardyReasonLateToReportOnsite</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-2979</description>
        <name>Call_FSM_ServiceAppointment_Subflow_Jeopardy_Reason_Late_To_Dispatch</name>
        <label>Call FSM ServiceAppointment - Subflow - Jeopardy Reason Late To Dispatch</label>
        <locationX>7750</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointmentSubflowJeaopardyReasonLateToDispatch</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-2969</description>
        <name>Call_FSM_ServiceAppointment_Subflow_Jeopardy_Reason_Late_To_Report_Onsite_Meteri</name>
        <label>Call FSM ServiceAppointment - Subflow - Jeopardy Reason Late To Report Onsite Metering</label>
        <locationX>8278</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointmentSubflowJeopardyReasonLateToReportOnsiteMetering</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>Created as a part of SFS-3052</description>
        <name>Copy_1_of_Call_ErrorLog_SubFlow</name>
        <label>Call ErrorLog SubFlow</label>
        <locationX>2910</locationX>
        <locationY>13752</locationY>
        <flowName>ErrorLog_Subflow_Create_Record</flowName>
        <inputAssignments>
            <name>FSM_ExceptionalNumber</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FlowName</name>
            <value>
                <elementReference>$Flow.CurrentRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_Type</name>
            <value>
                <stringValue>Field Service</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>sfs-3002</description>
        <name>Copy_1_of_SABundle</name>
        <label>Copy 1 of SABundle</label>
        <locationX>2398</locationX>
        <locationY>12312</locationY>
        <connector>
            <targetReference>TMA_check</targetReference>
        </connector>
        <flowName>FSM_BundleLevelSaStatus</flowName>
        <inputAssignments>
            <name>SARecordInput</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Copy_1_of_Update_self_wo_to_scheduled</name>
        <label>Copy 1 of Update self wo to scheduled</label>
        <locationX>2530</locationX>
        <locationY>13020</locationY>
        <connector>
            <targetReference>Is_Changed_SA_Status</targetReference>
        </connector>
        <flowName>FSM_ServiceAppointmentSubflowUpdateWorkOrderStatus</flowName>
        <inputAssignments>
            <name>SAStatus</name>
            <value>
                <elementReference>$Record.Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>WOId</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFI-25</description>
        <name>Create_Platform_Event_Logs_for_SA_update</name>
        <label>Create Platform Event Logs for SA update</label>
        <locationX>2046</locationX>
        <locationY>16626</locationY>
        <connector>
            <targetReference>SA_In_Jeopardy</targetReference>
        </connector>
        <flowName>ServiceAppointment_Subflow_Create_Platform_Event_Record</flowName>
        <inputAssignments>
            <name>ActionCode</name>
            <value>
                <elementReference>$Record.FSM_ActionPIACode__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ActualEndTime</name>
            <value>
                <elementReference>$Record.ActualEndTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ActualStartTime</name>
            <value>
                <elementReference>$Record.ActualStartTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ActualWindowEnd</name>
            <value>
                <elementReference>$Record.ArrivalWindowEndTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ActualWindowStart</name>
            <value>
                <elementReference>$Record.ArrivalWindowStartTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>AppointmentNumber</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>AssignedresourceId</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Assigned_Service_Resource__r.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>DebriefComments</name>
            <value>
                <elementReference>$Record.FSM_Debriefcomments__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ImpactCode</name>
            <value>
                <elementReference>$Record.FSM_ImpactPIACode__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NonProductiveReason</name>
            <value>
                <elementReference>$Record.FSM_NonProductiveReason__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ProblemCode</name>
            <value>
                <elementReference>$Record.FSM_ProblemPIACode__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>SAPExternalId</name>
            <value>
                <elementReference>$Record.FSM_ExternalId__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>Status</name>
            <value>
                <elementReference>$Record.Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TimeEventType</name>
            <value>
                <elementReference>$Record.FSM_TimeEventType__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>triggeredServiceAppointmentRecord</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>WorkOrderNumber</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.WorkOrderNumber</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>CreateTimeSheetEntryErrorLog</name>
        <label>CreateTimeSheetEntryErrorLog</label>
        <locationX>2002</locationX>
        <locationY>4632</locationY>
        <flowName>ErrorLog_Subflow_Create_Record</flowName>
        <inputAssignments>
            <name>FSM_ExceptionalNumber</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FlowName</name>
            <value>
                <elementReference>$Flow.CurrentRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_Type</name>
            <value>
                <stringValue>Integration</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFI-2156</description>
        <name>Error_log_Create</name>
        <label>Error log</label>
        <locationX>2684</locationX>
        <locationY>10632</locationY>
        <flowName>ErrorLog_Subflow_Create_Record</flowName>
        <inputAssignments>
            <name>FSM_ExternalId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FlowName</name>
            <value>
                <stringValue>FSM_ServiceAppointmentAfterTrigger</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_Type</name>
            <value>
                <stringValue>Field Service</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>FSM_Earliest_Scheduling_Date</name>
        <label>FSM Earliest Scheduling Date</label>
        <locationX>2552</locationX>
        <locationY>11904</locationY>
        <connector>
            <targetReference>Work_order_TMA_of_self_schedule_New_SA_Check</targetReference>
        </connector>
        <flowName>FSM_EarliestSchedulingDate</flowName>
        <inputAssignments>
            <name>record</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-2979</description>
        <name>FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_to_Report_Accepted</name>
        <label>FSM ServiceAppointment - Subflow - Jeaopardy Reason Late to Report Accepted</label>
        <locationX>8542</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointmentSubflowJeaopardyReasonLatetoReportAccepted</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>FSM_UpdateWorkOrderStatus</name>
        <label>Update WorkOrder Status</label>
        <locationX>1326</locationX>
        <locationY>13944</locationY>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Checking_For_Record_s_Parent_Bundle_SA_and_BU</targetReference>
        </connector>
        <flowName>FSM_ServiceAppointmentSubflowUpdateWorkOrderStatus</flowName>
        <inputAssignments>
            <name>SAStatus</name>
            <value>
                <elementReference>$Record.Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>WOId</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>updated as part of SFS-7965</description>
        <name>Get_TMA_Notice_Date</name>
        <label>Get TMA Notice Date</label>
        <locationX>3790</locationX>
        <locationY>13320</locationY>
        <connector>
            <targetReference>Update_WorkOrder_Status</targetReference>
        </connector>
        <flowName>FSM_Populate_Notice_Date_on_Permit</flowName>
        <inputAssignments>
            <name>BusinessUnit</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_HighwayAuthority__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NoticeType</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>sAid</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ServiceAppointmentStatus</name>
            <value>
                <elementReference>$Record.Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>StatusNull</name>
            <value>
                <elementReference>StatusNull</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TMApermit</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>Created as a part of SFS-2233</description>
        <name>SA_WO_Share_SubFlow</name>
        <label>SA &amp; WO Share SubFlow</label>
        <locationX>2552</locationX>
        <locationY>14886</locationY>
        <connector>
            <targetReference>Not_A_New_SA</targetReference>
        </connector>
        <flowName>FSM_ServiceAppointmentSubflowSAWOShare</flowName>
        <inputAssignments>
            <name>newSARecord</name>
            <value>
                <elementReference>NewServiceAppointment</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>PreviousSAStatus</name>
            <value>
                <elementReference>$Record__Prior.Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>previousTerritoryId</name>
            <value>
                <elementReference>$Record__Prior.ServiceTerritoryId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>previousTerritoryName</name>
            <value>
                <elementReference>$Record__Prior.ServiceTerritory.Name</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ServiceAppointmentRecord</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>sfs-3002</description>
        <name>SABundle</name>
        <label>SABundle</label>
        <locationX>1183</locationX>
        <locationY>13428</locationY>
        <connector>
            <targetReference>Status_Changed</targetReference>
        </connector>
        <flowName>FSM_BundleLevelSaStatus</flowName>
        <inputAssignments>
            <name>SARecordInput</name>
            <value>
                <elementReference>$Record</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-2979</description>
        <name>Send_Notification</name>
        <label>Send Notification</label>
        <locationX>1804</locationX>
        <locationY>17310</locationY>
        <connector>
            <targetReference>Check_if_SA_changed_to_Cancelled_or_back_to_New</targetReference>
        </connector>
        <flowName>FSM_ServiceAppointmentSubflowNotificationsForDelayInWorkCompletion</flowName>
        <inputAssignments>
            <name>NotificationBody</name>
            <value>
                <elementReference>JeopardyNotificationBody</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-6638</description>
        <name>Send_Notification_for_waste_Late_to_enroute</name>
        <label>Send Notification for waste Late to enroute</label>
        <locationX>9862</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Enroute_Waste_Infra</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>Created as a pert of SFS-1890</description>
        <name>Send_reminder_after_15_mins</name>
        <label>Send reminder after 15 mins</label>
        <locationX>5902</locationX>
        <locationY>276</locationY>
        <flowName>FSM_StartTMANotification</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>Created as a pert of SFS-1890</description>
        <name>Send_reminder_after_30_mins</name>
        <label>Send reminder after 30 mins</label>
        <locationX>6166</locationX>
        <locationY>276</locationY>
        <flowName>FSM_StartTMANotification</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>Created as a pert of SFS-1890</description>
        <name>Send_reminder_after_45_mins</name>
        <label>Send reminder after 45 mins</label>
        <locationX>6430</locationX>
        <locationY>276</locationY>
        <flowName>FSM_StartTMANotification</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>Created as a pert of SFS-1890</description>
        <name>Send_reminder_after_60_mins</name>
        <label>Send reminder after 60 mins</label>
        <locationX>6694</locationX>
        <locationY>276</locationY>
        <flowName>FSM_StartTMANotification</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>Created as a pert of SFS-1890</description>
        <name>Send_reminder_after_75_mins</name>
        <label>Send reminder after 75 mins</label>
        <locationX>6958</locationX>
        <locationY>276</locationY>
        <flowName>FSM_StartTMANotification</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Slef_wo_tma_update</name>
        <label>Slef wo tma update</label>
        <locationX>2398</locationX>
        <locationY>12612</locationY>
        <connector>
            <targetReference>Update_self_wo_to_scheduled</targetReference>
        </connector>
        <flowName>FSM_Populate_Notice_Date_on_Permit</flowName>
        <inputAssignments>
            <name>BusinessUnit</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_HighwayAuthority__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NoticeType</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__r.FSM_NoticeType__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>sAid</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>TMApermit</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.FSM_TMAPermit__c</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <description>SFL-887</description>
        <name>TimeSheeEntryErrorLog</name>
        <label>TimeSheeEntryErrorLog</label>
        <locationX>2508</locationX>
        <locationY>10008</locationY>
        <flowName>ErrorLog_Subflow_Create_Record</flowName>
        <inputAssignments>
            <name>FSM_ExceptionalNumber</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FlowName</name>
            <value>
                <elementReference>$Flow.CurrentRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_Type</name>
            <value>
                <stringValue>Field Service</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFL-887</description>
        <name>TimeSheeErrorLog</name>
        <label>TimeSheeErrorLog</label>
        <locationX>2068</locationX>
        <locationY>8976</locationY>
        <flowName>ErrorLog_Subflow_Create_Record</flowName>
        <inputAssignments>
            <name>FSM_ExceptionalNumber</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FlowName</name>
            <value>
                <elementReference>$Flow.CurrentRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_Type</name>
            <value>
                <stringValue>Field Service</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>TimeSheetEntryErrorLog</name>
        <label>TimeSheetEntryErrorLog</label>
        <locationX>2838</locationX>
        <locationY>5448</locationY>
        <flowName>ErrorLog_Subflow_Create_Record</flowName>
        <inputAssignments>
            <name>FSM_ExceptionalNumber</name>
            <value>
                <elementReference>$Record.AppointmentNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FaultMessage</name>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_FlowName</name>
            <value>
                <elementReference>$Flow.CurrentRecord</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>FSM_Type</name>
            <value>
                <stringValue>Integration</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-730</description>
        <name>Update_Other_WO_s_ParentWOId</name>
        <label>Update Other WO&apos;s ParentWOId</label>
        <locationX>2646</locationX>
        <locationY>13752</locationY>
        <connector>
            <targetReference>Check_SA_Sharing_for_Self_Scheduling_on_ST</targetReference>
        </connector>
        <flowName>FSM_Bundle_Work_Order_Update</flowName>
        <inputAssignments>
            <name>RecordRelatedBundleId</name>
            <value>
                <elementReference>$Record.RelatedBundleId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>StoreBU</name>
            <value>
                <elementReference>$Record.FSM_BusinessUnit__c</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Update_self_wo_to_scheduled</name>
        <label>Update self wo to scheduled</label>
        <locationX>2530</locationX>
        <locationY>12804</locationY>
        <connector>
            <targetReference>Dispatch_self_SA</targetReference>
        </connector>
        <flowName>FSM_ServiceAppointmentSubflowUpdateWorkOrderStatus</flowName>
        <inputAssignments>
            <name>SAStatus</name>
            <value>
                <elementReference>$Record.Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>WOId</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-6638</description>
        <name>update_tma_and_notify</name>
        <label>update tma and notify</label>
        <locationX>7222</locationX>
        <locationY>276</locationY>
        <flowName>FSM_StartTMANotificationAfter90MinUpdate</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>Updated as part of SFI-2961</description>
        <name>Update_WorkOrder_Status</name>
        <label>Update WorkOrder Status</label>
        <locationX>3790</locationX>
        <locationY>13428</locationY>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Checking_For_Record_s_Parent_Bundle_SA_and_BU</targetReference>
        </connector>
        <flowName>FSM_ServiceAppointmentSubflowUpdateWorkOrderStatus</flowName>
        <inputAssignments>
            <name>SAStatus</name>
            <value>
                <elementReference>$Record.Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>WOId</name>
            <value>
                <elementReference>$Record.FSSK__FSK_Work_Order__r.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>SendEnrouteURL</name>
            <value>
                <elementReference>$Record.FSM_SendETAURL__c</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <description>SFS-6638</description>
        <name>VMT_meteing_notification</name>
        <label>VMT meteing notification</label>
        <locationX>10126</locationX>
        <locationY>276</locationY>
        <flowName>FSM_ServiceAppointment_Subflow_Jeaopardy_Reason_Late_To_Enroute_Metring_VMT</flowName>
        <inputAssignments>
            <name>SAId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <textTemplates>
        <name>Fsm_PayloadResponse</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;testr&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>FSM_RequestPayload</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;{Contact Id:{!Fetch_Service_Recovery_Contact.Id},Service Appointment Number:{!$Record.Id}}&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>NoMapPolygonMsg</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>No relevant Map Polygons found for Latitude-{!$Record.Latitude} and Longitide-{!$Record.Longitude}.</text>
    </textTemplates>
    <textTemplates>
        <description>SFS-155</description>
        <name>NotificationBodyDispatched</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>{!$Record.AppointmentNumber} {!$Label.FSM_DispatchNotificationBody}</text>
    </textTemplates>
    <textTemplates>
        <description>SFS-155</description>
        <name>NotificationBodyNotAssigned</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>{!$Record.AppointmentNumber} {!$Label.FSM_Notificationbody}</text>
    </textTemplates>
    <textTemplates>
        <description>SFS-155</description>
        <name>NotificationTitleDispatch</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>{!$Label.FSM_DispatchNotificationTitle}</text>
    </textTemplates>
    <textTemplates>
        <description>SFS-155</description>
        <name>NotificationTitleNotAssigned</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>{!$Label.FSM_NotificationTitle}</text>
    </textTemplates>
    <textTemplates>
        <name>WorkingSubAreacheckMsg</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Working  Sub Area not found for Map Polygon-{!PolygonName}.</text>
    </textTemplates>
    <variables>
        <description>SFL-887</description>
        <name>AllAssignedResourceID</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>SFL-887</description>
        <name>AllTimesheetForTimeEntryCreation</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>TimeSheet</objectType>
    </variables>
    <variables>
        <description>SFL-887</description>
        <name>AllTSEtoBeCreated</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>TimeSheetEntry</objectType>
    </variables>
    <variables>
        <name>assignedAllBreaks</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ResourceAbsence</objectType>
    </variables>
    <variables>
        <name>assignedresourcesids</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>SFS-8138</description>
        <name>AssignedResourceUserId</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>AssignedResourceUserId1</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>assingedresorucesIDs</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>brealcollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ResourceAbsence</objectType>
    </variables>
    <variables>
        <name>checingassigedR</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>countRejectCannotComplete</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>ErrorInformation</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FSM_ErrorLog__c</objectType>
    </variables>
    <variables>
        <description>Created as part of SFS-1888</description>
        <name>ErrorMessage</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <stringValue>Update TMA Actual Start on TMA Permit</stringValue>
        </value>
    </variables>
    <variables>
        <description>SFS-2136</description>
        <name>FinalGroupNameForDeletion</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>SFI-2751</description>
        <name>FinalTiimesheetUpdated</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>SFS-6208</description>
        <name>HoursDuration</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <description>SFL-1263</description>
        <name>is_leader</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>SFS-2979</description>
        <name>JeopardyNotificationBody</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>LastimesheetentryId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>MinutesDurationVar</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <description>SFL-887</description>
        <name>NewTimeSheet</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>TimeSheet</objectType>
    </variables>
    <variables>
        <name>onsitetest</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OrgWideEmail_Name</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>Default_Email_Infra</stringValue>
        </value>
    </variables>
    <variables>
        <name>overlapbreaksingle</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ResourceAbsence</objectType>
    </variables>
    <variables>
        <name>overlappingbreaksingle</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ResourceAbsence</objectType>
    </variables>
    <variables>
        <name>polygonLookup</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>PolygonName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Created as a part of SFS-1652</description>
        <name>PublicGroupVar</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Group</objectType>
    </variables>
    <variables>
        <name>SARecords</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
    <variables>
        <description>SFL-1263</description>
        <name>serviceresoruceEXTLD_Id_forCrewLeader</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>SFI-3007</description>
        <name>ServiceResourceExtID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>SFL-1263</description>
        <name>serviceResourceEXTLDId_forCrewNONleader</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>SFL-887</description>
        <name>SingleTSERecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>TimeSheetEntry</objectType>
    </variables>
    <variables>
        <name>StatusNull</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>STexists</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>timesheetentryrecordcollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>TimeSheetEntry</objectType>
    </variables>
    <variables>
        <description>SFL-887</description>
        <name>TimesheetList</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>TimeSheet</objectType>
    </variables>
    <variables>
        <name>TSERecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>TimeSheetEntry</objectType>
    </variables>
    <variables>
        <description>SFS-155</description>
        <name>UserIDs</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Created as a part of SFS-1652</description>
        <name>varCMDTLevel2</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FSM_CMDTLevel2__mdt</objectType>
    </variables>
    <variables>
        <name>WorkOrderRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <description>SFL-887</description>
        <name>YesTimesheetFound</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
